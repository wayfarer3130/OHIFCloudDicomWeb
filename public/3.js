(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[3],{

/***/ "../../../extensions/dicom-sr/src/tools/DICOMSRDisplayTool.js":
/*!**************************************************************************!*\
  !*** C:/src/Viewers/extensions/dicom-sr/src/tools/DICOMSRDisplayTool.js ***!
  \**************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(module) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return DICOMSRDisplayTool; });\n/* harmony import */ var cornerstone_tools__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! cornerstone-tools */ \"../../../../bwCornerstoneTools/dist/cornerstoneTools.js\");\n/* harmony import */ var cornerstone_tools__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(cornerstone_tools__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var cornerstone_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cornerstone-core */ \"../../../../cornerstone/dist/cornerstone.js\");\n/* harmony import */ var cornerstone_core__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(cornerstone_core__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _constants_toolNames__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../constants/toolNames */ \"../../../extensions/dicom-sr/src/constants/toolNames.js\");\n/* harmony import */ var _constants_scoordTypes__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../constants/scoordTypes */ \"../../../extensions/dicom-sr/src/constants/scoordTypes.js\");\n/* harmony import */ var _id__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../id */ \"../../../extensions/dicom-sr/src/id.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {\n  return a;\n};\n\n\n\n\n\n // Cornerstone 3rd party dev kit imports\n\nvar draw = Object(cornerstone_tools__WEBPACK_IMPORTED_MODULE_0__[\"importInternal\"])('drawing/draw');\nvar drawJoinedLines = Object(cornerstone_tools__WEBPACK_IMPORTED_MODULE_0__[\"importInternal\"])('drawing/drawJoinedLines');\nvar drawCircle = Object(cornerstone_tools__WEBPACK_IMPORTED_MODULE_0__[\"importInternal\"])('drawing/drawCircle');\nvar drawEllipse = Object(cornerstone_tools__WEBPACK_IMPORTED_MODULE_0__[\"importInternal\"])('drawing/drawEllipse');\nvar drawHandles = Object(cornerstone_tools__WEBPACK_IMPORTED_MODULE_0__[\"importInternal\"])('drawing/drawHandles');\nvar drawArrow = Object(cornerstone_tools__WEBPACK_IMPORTED_MODULE_0__[\"importInternal\"])('drawing/drawArrow');\nvar getNewContext = Object(cornerstone_tools__WEBPACK_IMPORTED_MODULE_0__[\"importInternal\"])('drawing/getNewContext');\nvar BaseTool = Object(cornerstone_tools__WEBPACK_IMPORTED_MODULE_0__[\"importInternal\"])('base/BaseTool');\nvar drawLinkedTextBox = Object(cornerstone_tools__WEBPACK_IMPORTED_MODULE_0__[\"importInternal\"])('drawing/drawLinkedTextBox');\n/**\n * @class DICOMSRDisplayTool - Renders DICOMSR data in a read only manner (i.e. as an overlay).\n * @extends cornerstoneTools.BaseTool\n */\n\nvar DICOMSRDisplayTool = /*#__PURE__*/function (_BaseTool) {\n  _inherits(DICOMSRDisplayTool, _BaseTool);\n\n  var _super = _createSuper(DICOMSRDisplayTool);\n\n  function DICOMSRDisplayTool() {\n    var _this;\n\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, DICOMSRDisplayTool);\n\n    var defaultProps = {\n      mixins: ['enabledOrDisabledBinaryTool'],\n      name: _constants_toolNames__WEBPACK_IMPORTED_MODULE_2__[\"default\"].DICOM_SR_DISPLAY_TOOL\n    };\n    var initialProps = Object.assign(defaultProps, props);\n    _this = _super.call(this, initialProps);\n    _this._module = cornerstoneTools.getModule(_id__WEBPACK_IMPORTED_MODULE_4__[\"default\"]);\n    return _this;\n  }\n\n  _createClass(DICOMSRDisplayTool, [{\n    key: \"renderToolData\",\n    value: function renderToolData(evt) {\n      var _this2 = this;\n\n      var eventData = evt.detail;\n      var element = eventData.element;\n      var module = this._module;\n      var toolState = Object(cornerstone_tools__WEBPACK_IMPORTED_MODULE_0__[\"getToolState\"])(element, this.name);\n\n      if (!toolState) {\n        return;\n      }\n\n      var trackingUniqueIdentifiersForElement = module.getters.trackingUniqueIdentifiersForElement(element);\n      var activeIndex = trackingUniqueIdentifiersForElement.activeIndex,\n          trackingUniqueIdentifiers = trackingUniqueIdentifiersForElement.trackingUniqueIdentifiers;\n      var activeTrackingUniqueIdentifier = trackingUniqueIdentifiers[activeIndex]; // Filter toolData to only render the data for the active SR.\n\n      var filteredToolData = toolState.data.filter(function (td) {\n        return trackingUniqueIdentifiers.includes(td.TrackingUniqueIdentifier);\n      });\n      var shouldRepositionTextBoxes = false;\n\n      var _loop = function _loop(i) {\n        var data = filteredToolData[i];\n        var renderableData = data.renderableData,\n            labels = data.labels;\n        var color = data.TrackingUniqueIdentifier === activeTrackingUniqueIdentifier ? cornerstone_tools__WEBPACK_IMPORTED_MODULE_0__[\"toolColors\"].getActiveColor() : cornerstone_tools__WEBPACK_IMPORTED_MODULE_0__[\"toolColors\"].getToolColor();\n        var lineWidth = 2;\n        var options = {\n          color: color,\n          lineWidth: lineWidth,\n          handleRadius: 6\n        };\n        Object.keys(renderableData).forEach(function (GraphicType) {\n          var renderableDataForGraphicType = renderableData[GraphicType];\n\n          switch (GraphicType) {\n            case _constants_scoordTypes__WEBPACK_IMPORTED_MODULE_3__[\"default\"].POINT:\n              _this2.renderPoint(renderableDataForGraphicType, eventData, options);\n\n              break;\n\n            case _constants_scoordTypes__WEBPACK_IMPORTED_MODULE_3__[\"default\"].MULTIPOINT:\n              _this2.renderMultipoint(renderableDataForGraphicType, eventData, options);\n\n              break;\n\n            case _constants_scoordTypes__WEBPACK_IMPORTED_MODULE_3__[\"default\"].POLYLINE:\n              _this2.renderPolyLine(renderableDataForGraphicType, eventData, options);\n\n              break;\n\n            case _constants_scoordTypes__WEBPACK_IMPORTED_MODULE_3__[\"default\"].CIRCLE:\n              _this2.renderCircle(renderableDataForGraphicType, eventData, options);\n\n              break;\n\n            case _constants_scoordTypes__WEBPACK_IMPORTED_MODULE_3__[\"default\"].ELLIPSE:\n              _this2.renderEllipse(renderableDataForGraphicType, eventData, options);\n\n              break;\n          }\n        });\n        var element = eventData.element;\n        var context = getNewContext(eventData.canvasContext.canvas);\n\n        if (!data.handles || !data.handles.textBox) {\n          var textBox = {\n            active: false,\n            hasMoved: true,\n            movesIndependently: false,\n            drawnIndependently: true,\n            allowedOutsideImage: true,\n            hasBoundingBox: true\n          };\n\n          var anchorPoints = _getTextBoxAnchorPointsForRenderableData(renderableData, eventData);\n\n          textBox.anchorPoints = anchorPoints;\n          var bottomRight = {\n            x: Math.max.apply(Math, _toConsumableArray(anchorPoints.map(function (point) {\n              return point.x;\n            }))),\n            y: Math.max.apply(Math, _toConsumableArray(anchorPoints.map(function (point) {\n              return point.y;\n            })))\n          };\n          textBox.x = bottomRight.x;\n          textBox.y = bottomRight.y;\n          data.handles = {};\n          data.handles.textBox = textBox;\n          shouldRepositionTextBoxes = true;\n        }\n\n        var text = _getTextBoxLinesFromLabels(labels);\n\n        function textBoxAnchorPoints() {\n          return data.handles.textBox.anchorPoints;\n        }\n\n        draw(context, function (context) {\n          drawLinkedTextBox(context, element, data.handles.textBox, text, data.handles, textBoxAnchorPoints, color, lineWidth, 0, true);\n        });\n      };\n\n      for (var i = 0; i < filteredToolData.length; i++) {\n        _loop(i);\n      } // TOOD -> text boxes may overlap with other annotations at the moment.\n      // To be fixed after we get requirements.\n      // if (shouldRepositionTextBoxes) {\n      //   this.repositionTextBox(filteredToolData, eventData);\n      // }\n\n    } // repositionTextBox(toolData, eventData) {\n    //   const toolBoundingBoxes = [];\n    //   for (let i = 0; i < toolData.length; i++) {\n    //     const toolDataI = toolData[i];\n    //     const { textBox } = toolDataI.handles;\n    //     const { anchorPoints } = textBox;\n    //     const boundingBox = _getBoundingBoxFromAnchorPoints(anchorPoints);\n    //     // Get the textbox bounding locations.\n    //     // Get the tool extents.\n    //   }\n    // }\n\n  }, {\n    key: \"renderPolyLine\",\n    value: function renderPolyLine(renderableData, eventData, options) {\n      var element = eventData.element;\n      var context = getNewContext(eventData.canvasContext.canvas);\n      renderableData.forEach(function (points) {\n        draw(context, function (context) {\n          drawJoinedLines(context, element, points[0], points, options);\n        });\n      });\n    }\n  }, {\n    key: \"renderMultipoint\",\n    value: function renderMultipoint(renderableData, eventData, options) {\n      var context = getNewContext(eventData.canvasContext.canvas);\n      renderableData.forEach(function (points) {\n        draw(context, function (context) {\n          drawHandles(context, eventData, points, options);\n        });\n      });\n    }\n  }, {\n    key: \"renderPoint\",\n    value: function renderPoint(renderableData, eventData, options) {\n      // Render single point as an arrow.\n      var element = eventData.element,\n          image = eventData.image;\n      var rows = image.rows,\n          columns = image.columns;\n      var context = getNewContext(eventData.canvasContext.canvas);\n      var color = options.color,\n          lineWidth = options.lineWidth; // Find a suitable length for the image size.\n\n      var xOffset = columns / 10;\n      var yOffset = rows / 10;\n      renderableData.forEach(function (points) {\n        var point = points[0]; // The SCOORD type is POINT so the array length is 1.\n\n        draw(context, function (context) {\n          // Draw the arrow\n          var handleStartCanvas = Object(cornerstone_core__WEBPACK_IMPORTED_MODULE_1__[\"pixelToCanvas\"])(element, point);\n          var handleEndCanvas = Object(cornerstone_core__WEBPACK_IMPORTED_MODULE_1__[\"pixelToCanvas\"])(element, {\n            x: point.x + xOffset,\n            y: point.y + yOffset\n          });\n          drawArrow(context, handleEndCanvas, handleStartCanvas, color, lineWidth, false);\n        });\n      });\n    }\n  }, {\n    key: \"renderCircle\",\n    value: function renderCircle(renderableData, eventData, options) {\n      var element = eventData.element;\n      var context = getNewContext(eventData.canvasContext.canvas);\n      renderableData.forEach(function (circle) {\n        var center = circle.center,\n            radius = circle.radius;\n        drawCircle(context, element, center, radius, options);\n      });\n    }\n  }, {\n    key: \"renderEllipse\",\n    value: function renderEllipse(renderableData, eventData, options) {\n      var element = eventData.element;\n      var context = getNewContext(eventData.canvasContext.canvas);\n      renderableData.forEach(function (ellipse) {\n        var corner1 = ellipse.corner1,\n            corner2 = ellipse.corner2;\n        drawEllipse(context, element, corner1, corner2, options, 'pixel', 0 // TODO -> Work our the initial rotation and add it here so we render appropriately rotated ellipses.\n        );\n      });\n    }\n  }, {\n    key: \"__reactstandin__regenerateByEval\",\n    value: // @ts-ignore\n    function __reactstandin__regenerateByEval(key, code) {\n      // @ts-ignore\n      this[key] = eval(code);\n    }\n  }]);\n\n  return DICOMSRDisplayTool;\n}(BaseTool);\n\n\n\nfunction _getTextBoxLinesFromLabels(labels) {\n  // TODO -> max 3 for now (label + shortAxis + longAxis), need a generic solution for this!\n  var labelLength = Math.min(labels.length, 3);\n  var lines = [];\n\n  for (var i = 0; i < labelLength; i++) {\n    var labelEntry = labels[i];\n    lines.push(\"\".concat(_labelToShorthand(labelEntry.label)).concat(labelEntry.value));\n  }\n\n  return lines;\n}\n\nvar SHORT_HAND_MAP = {\n  'Short Axis': 'W ',\n  'Long Axis': 'L ',\n  AREA: 'Area ',\n  Length: '',\n  CORNERSTONEFREETEXT: ''\n};\n\nfunction _labelToShorthand(label) {\n  var shortHand = SHORT_HAND_MAP[label];\n\n  if (shortHand !== undefined) {\n    return shortHand;\n  }\n\n  return label;\n}\n\nfunction _getTextBoxAnchorPointsForRenderableData(renderableData, eventData) {\n  var anchorPoints = [];\n  Object.keys(renderableData).forEach(function (GraphicType) {\n    var renderableDataForGraphicType = renderableData[GraphicType];\n\n    switch (GraphicType) {\n      case _constants_scoordTypes__WEBPACK_IMPORTED_MODULE_3__[\"default\"].POINT:\n        renderableDataForGraphicType.forEach(function (points) {\n          anchorPoints = [].concat(_toConsumableArray(anchorPoints), _toConsumableArray(points)); // Add other arrow point based on image size.\n\n          var image = eventData.image;\n          var rows = image.rows,\n              columns = image.columns;\n          var xOffset = columns / 10;\n          var yOffset = rows / 10;\n          var point = points[0];\n          anchorPoints.push({\n            x: point.x + xOffset,\n            y: point.y + yOffset\n          });\n        });\n        break;\n\n      case _constants_scoordTypes__WEBPACK_IMPORTED_MODULE_3__[\"default\"].MULTIPOINT:\n      case _constants_scoordTypes__WEBPACK_IMPORTED_MODULE_3__[\"default\"].POLYLINE:\n        renderableDataForGraphicType.forEach(function (points) {\n          anchorPoints = [].concat(_toConsumableArray(anchorPoints), _toConsumableArray(points));\n        });\n        break;\n\n      case _constants_scoordTypes__WEBPACK_IMPORTED_MODULE_3__[\"default\"].CIRCLE:\n        renderableDataForGraphicType.forEach(function (circle) {\n          var center = circle.center,\n              radius = circle.radius;\n          anchorPoints.push({\n            x: center.x + radius,\n            y: center.y\n          });\n          anchorPoints.push({\n            x: center.x - radius,\n            y: center.y\n          });\n          anchorPoints.push({\n            x: center.x,\n            y: center.y + radius\n          });\n          anchorPoints.push({\n            x: center.x,\n            y: center.y - radius\n          });\n        });\n        break;\n\n      case _constants_scoordTypes__WEBPACK_IMPORTED_MODULE_3__[\"default\"].ELLIPSE:\n        renderableDataForGraphicType.forEach(function (ellipse) {\n          var corner1 = ellipse.corner1,\n              corner2 = ellipse.corner2;\n          var halfWidth = Math.abs(corner1.x - corner2.x) / 2;\n          var halfHeight = Math.abs(corner1.y - corner2.y) / 2;\n          var center = {\n            x: (corner1.x + corner2.x) / 2,\n            y: (corner1.y + corner2.y) / 2\n          };\n          anchorPoints.push({\n            x: center.x + halfWidth,\n            y: center.y\n          });\n          anchorPoints.push({\n            x: center.x - halfWidth,\n            y: center.y\n          });\n          anchorPoints.push({\n            x: center.x,\n            y: center.y + halfHeight\n          });\n          anchorPoints.push({\n            x: center.x,\n            y: center.y - halfHeight\n          });\n        });\n        break;\n    }\n  });\n  return anchorPoints;\n}\n\nfunction _getBoundingBoxFromAnchorPoints(anchorPoints) {\n  var minX = Infinity;\n  var maxX = -Infinity;\n  var minY = Infinity;\n  var maxY = -Infinity;\n  anchorPoints.forEach(function (point) {\n    var x = point.x,\n        y = point.y;\n\n    if (x > maxX) {\n      maxX = x;\n    } else if (x < minX) {\n      minX = x;\n    }\n\n    if (y > maxX) {\n      maxY = y;\n    } else if (y < minY) {\n      minY = y;\n    }\n  });\n}\n\n;\n\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(draw, \"draw\", \"C:\\\\src\\\\Viewers\\\\extensions\\\\dicom-sr\\\\src\\\\tools\\\\DICOMSRDisplayTool.js\");\n  reactHotLoader.register(drawJoinedLines, \"drawJoinedLines\", \"C:\\\\src\\\\Viewers\\\\extensions\\\\dicom-sr\\\\src\\\\tools\\\\DICOMSRDisplayTool.js\");\n  reactHotLoader.register(drawCircle, \"drawCircle\", \"C:\\\\src\\\\Viewers\\\\extensions\\\\dicom-sr\\\\src\\\\tools\\\\DICOMSRDisplayTool.js\");\n  reactHotLoader.register(drawEllipse, \"drawEllipse\", \"C:\\\\src\\\\Viewers\\\\extensions\\\\dicom-sr\\\\src\\\\tools\\\\DICOMSRDisplayTool.js\");\n  reactHotLoader.register(drawHandles, \"drawHandles\", \"C:\\\\src\\\\Viewers\\\\extensions\\\\dicom-sr\\\\src\\\\tools\\\\DICOMSRDisplayTool.js\");\n  reactHotLoader.register(drawArrow, \"drawArrow\", \"C:\\\\src\\\\Viewers\\\\extensions\\\\dicom-sr\\\\src\\\\tools\\\\DICOMSRDisplayTool.js\");\n  reactHotLoader.register(getNewContext, \"getNewContext\", \"C:\\\\src\\\\Viewers\\\\extensions\\\\dicom-sr\\\\src\\\\tools\\\\DICOMSRDisplayTool.js\");\n  reactHotLoader.register(BaseTool, \"BaseTool\", \"C:\\\\src\\\\Viewers\\\\extensions\\\\dicom-sr\\\\src\\\\tools\\\\DICOMSRDisplayTool.js\");\n  reactHotLoader.register(drawLinkedTextBox, \"drawLinkedTextBox\", \"C:\\\\src\\\\Viewers\\\\extensions\\\\dicom-sr\\\\src\\\\tools\\\\DICOMSRDisplayTool.js\");\n  reactHotLoader.register(DICOMSRDisplayTool, \"DICOMSRDisplayTool\", \"C:\\\\src\\\\Viewers\\\\extensions\\\\dicom-sr\\\\src\\\\tools\\\\DICOMSRDisplayTool.js\");\n  reactHotLoader.register(_getTextBoxLinesFromLabels, \"_getTextBoxLinesFromLabels\", \"C:\\\\src\\\\Viewers\\\\extensions\\\\dicom-sr\\\\src\\\\tools\\\\DICOMSRDisplayTool.js\");\n  reactHotLoader.register(SHORT_HAND_MAP, \"SHORT_HAND_MAP\", \"C:\\\\src\\\\Viewers\\\\extensions\\\\dicom-sr\\\\src\\\\tools\\\\DICOMSRDisplayTool.js\");\n  reactHotLoader.register(_labelToShorthand, \"_labelToShorthand\", \"C:\\\\src\\\\Viewers\\\\extensions\\\\dicom-sr\\\\src\\\\tools\\\\DICOMSRDisplayTool.js\");\n  reactHotLoader.register(_getTextBoxAnchorPointsForRenderableData, \"_getTextBoxAnchorPointsForRenderableData\", \"C:\\\\src\\\\Viewers\\\\extensions\\\\dicom-sr\\\\src\\\\tools\\\\DICOMSRDisplayTool.js\");\n  reactHotLoader.register(_getBoundingBoxFromAnchorPoints, \"_getBoundingBoxFromAnchorPoints\", \"C:\\\\src\\\\Viewers\\\\extensions\\\\dicom-sr\\\\src\\\\tools\\\\DICOMSRDisplayTool.js\");\n})();\n\n;\n\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../../node_modules/webpack/buildin/harmony-module.js */ \"../../../node_modules/webpack/buildin/harmony-module.js\")(module)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vZXh0ZW5zaW9ucy9kaWNvbS1zci9zcmMvdG9vbHMvRElDT01TUkRpc3BsYXlUb29sLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vL0M6L3NyYy9WaWV3ZXJzL2V4dGVuc2lvbnMvZGljb20tc3Ivc3JjL3Rvb2xzL0RJQ09NU1JEaXNwbGF5VG9vbC5qcz8yMTc4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGltcG9ydEludGVybmFsLCBnZXRUb29sU3RhdGUsIHRvb2xDb2xvcnMgfSBmcm9tICdjb3JuZXJzdG9uZS10b29scyc7XG5pbXBvcnQgeyBwaXhlbFRvQ2FudmFzIH0gZnJvbSAnY29ybmVyc3RvbmUtY29yZSc7XG5cbmltcG9ydCBUT09MX05BTUVTIGZyb20gJy4uL2NvbnN0YW50cy90b29sTmFtZXMnO1xuaW1wb3J0IFNDT09SRF9UWVBFUyBmcm9tICcuLi9jb25zdGFudHMvc2Nvb3JkVHlwZXMnO1xuaW1wb3J0IGlkIGZyb20gJy4uL2lkJztcblxuLy8gQ29ybmVyc3RvbmUgM3JkIHBhcnR5IGRldiBraXQgaW1wb3J0c1xuY29uc3QgZHJhdyA9IGltcG9ydEludGVybmFsKCdkcmF3aW5nL2RyYXcnKTtcbmNvbnN0IGRyYXdKb2luZWRMaW5lcyA9IGltcG9ydEludGVybmFsKCdkcmF3aW5nL2RyYXdKb2luZWRMaW5lcycpO1xuY29uc3QgZHJhd0NpcmNsZSA9IGltcG9ydEludGVybmFsKCdkcmF3aW5nL2RyYXdDaXJjbGUnKTtcbmNvbnN0IGRyYXdFbGxpcHNlID0gaW1wb3J0SW50ZXJuYWwoJ2RyYXdpbmcvZHJhd0VsbGlwc2UnKTtcbmNvbnN0IGRyYXdIYW5kbGVzID0gaW1wb3J0SW50ZXJuYWwoJ2RyYXdpbmcvZHJhd0hhbmRsZXMnKTtcbmNvbnN0IGRyYXdBcnJvdyA9IGltcG9ydEludGVybmFsKCdkcmF3aW5nL2RyYXdBcnJvdycpO1xuY29uc3QgZ2V0TmV3Q29udGV4dCA9IGltcG9ydEludGVybmFsKCdkcmF3aW5nL2dldE5ld0NvbnRleHQnKTtcbmNvbnN0IEJhc2VUb29sID0gaW1wb3J0SW50ZXJuYWwoJ2Jhc2UvQmFzZVRvb2wnKTtcbmNvbnN0IGRyYXdMaW5rZWRUZXh0Qm94ID0gaW1wb3J0SW50ZXJuYWwoJ2RyYXdpbmcvZHJhd0xpbmtlZFRleHRCb3gnKTtcblxuLyoqXG4gKiBAY2xhc3MgRElDT01TUkRpc3BsYXlUb29sIC0gUmVuZGVycyBESUNPTVNSIGRhdGEgaW4gYSByZWFkIG9ubHkgbWFubmVyIChpLmUuIGFzIGFuIG92ZXJsYXkpLlxuICogQGV4dGVuZHMgY29ybmVyc3RvbmVUb29scy5CYXNlVG9vbFxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBESUNPTVNSRGlzcGxheVRvb2wgZXh0ZW5kcyBCYXNlVG9vbCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzID0ge30pIHtcbiAgICBjb25zdCBkZWZhdWx0UHJvcHMgPSB7XG4gICAgICBtaXhpbnM6IFsnZW5hYmxlZE9yRGlzYWJsZWRCaW5hcnlUb29sJ10sXG4gICAgICBuYW1lOiBUT09MX05BTUVTLkRJQ09NX1NSX0RJU1BMQVlfVE9PTCxcbiAgICB9O1xuXG4gICAgY29uc3QgaW5pdGlhbFByb3BzID0gT2JqZWN0LmFzc2lnbihkZWZhdWx0UHJvcHMsIHByb3BzKTtcblxuICAgIHN1cGVyKGluaXRpYWxQcm9wcyk7XG5cbiAgICB0aGlzLl9tb2R1bGUgPSBjb3JuZXJzdG9uZVRvb2xzLmdldE1vZHVsZShpZCk7XG4gIH1cblxuICByZW5kZXJUb29sRGF0YShldnQpIHtcbiAgICBjb25zdCBldmVudERhdGEgPSBldnQuZGV0YWlsO1xuICAgIGNvbnN0IHsgZWxlbWVudCB9ID0gZXZlbnREYXRhO1xuICAgIGNvbnN0IG1vZHVsZSA9IHRoaXMuX21vZHVsZTtcblxuICAgIGNvbnN0IHRvb2xTdGF0ZSA9IGdldFRvb2xTdGF0ZShlbGVtZW50LCB0aGlzLm5hbWUpO1xuXG4gICAgaWYgKCF0b29sU3RhdGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCB0cmFja2luZ1VuaXF1ZUlkZW50aWZpZXJzRm9yRWxlbWVudCA9IG1vZHVsZS5nZXR0ZXJzLnRyYWNraW5nVW5pcXVlSWRlbnRpZmllcnNGb3JFbGVtZW50KFxuICAgICAgZWxlbWVudFxuICAgICk7XG5cbiAgICBjb25zdCB7XG4gICAgICBhY3RpdmVJbmRleCxcbiAgICAgIHRyYWNraW5nVW5pcXVlSWRlbnRpZmllcnMsXG4gICAgfSA9IHRyYWNraW5nVW5pcXVlSWRlbnRpZmllcnNGb3JFbGVtZW50O1xuXG4gICAgY29uc3QgYWN0aXZlVHJhY2tpbmdVbmlxdWVJZGVudGlmaWVyID1cbiAgICAgIHRyYWNraW5nVW5pcXVlSWRlbnRpZmllcnNbYWN0aXZlSW5kZXhdO1xuXG4gICAgLy8gRmlsdGVyIHRvb2xEYXRhIHRvIG9ubHkgcmVuZGVyIHRoZSBkYXRhIGZvciB0aGUgYWN0aXZlIFNSLlxuICAgIGNvbnN0IGZpbHRlcmVkVG9vbERhdGEgPSB0b29sU3RhdGUuZGF0YS5maWx0ZXIodGQgPT5cbiAgICAgIHRyYWNraW5nVW5pcXVlSWRlbnRpZmllcnMuaW5jbHVkZXModGQuVHJhY2tpbmdVbmlxdWVJZGVudGlmaWVyKVxuICAgICk7XG5cbiAgICBsZXQgc2hvdWxkUmVwb3NpdGlvblRleHRCb3hlcyA9IGZhbHNlO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmaWx0ZXJlZFRvb2xEYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBkYXRhID0gZmlsdGVyZWRUb29sRGF0YVtpXTtcbiAgICAgIGNvbnN0IHsgcmVuZGVyYWJsZURhdGEsIGxhYmVscyB9ID0gZGF0YTtcblxuICAgICAgY29uc3QgY29sb3IgPVxuICAgICAgICBkYXRhLlRyYWNraW5nVW5pcXVlSWRlbnRpZmllciA9PT0gYWN0aXZlVHJhY2tpbmdVbmlxdWVJZGVudGlmaWVyXG4gICAgICAgICAgPyB0b29sQ29sb3JzLmdldEFjdGl2ZUNvbG9yKClcbiAgICAgICAgICA6IHRvb2xDb2xvcnMuZ2V0VG9vbENvbG9yKCk7XG4gICAgICBjb25zdCBsaW5lV2lkdGggPSAyO1xuICAgICAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICAgICAgY29sb3IsXG4gICAgICAgIGxpbmVXaWR0aCxcbiAgICAgICAgaGFuZGxlUmFkaXVzOiA2LFxuICAgICAgfTtcblxuICAgICAgT2JqZWN0LmtleXMocmVuZGVyYWJsZURhdGEpLmZvckVhY2goR3JhcGhpY1R5cGUgPT4ge1xuICAgICAgICBjb25zdCByZW5kZXJhYmxlRGF0YUZvckdyYXBoaWNUeXBlID0gcmVuZGVyYWJsZURhdGFbR3JhcGhpY1R5cGVdO1xuXG4gICAgICAgIHN3aXRjaCAoR3JhcGhpY1R5cGUpIHtcbiAgICAgICAgICBjYXNlIFNDT09SRF9UWVBFUy5QT0lOVDpcbiAgICAgICAgICAgIHRoaXMucmVuZGVyUG9pbnQocmVuZGVyYWJsZURhdGFGb3JHcmFwaGljVHlwZSwgZXZlbnREYXRhLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgU0NPT1JEX1RZUEVTLk1VTFRJUE9JTlQ6XG4gICAgICAgICAgICB0aGlzLnJlbmRlck11bHRpcG9pbnQoXG4gICAgICAgICAgICAgIHJlbmRlcmFibGVEYXRhRm9yR3JhcGhpY1R5cGUsXG4gICAgICAgICAgICAgIGV2ZW50RGF0YSxcbiAgICAgICAgICAgICAgb3B0aW9uc1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgU0NPT1JEX1RZUEVTLlBPTFlMSU5FOlxuICAgICAgICAgICAgdGhpcy5yZW5kZXJQb2x5TGluZShcbiAgICAgICAgICAgICAgcmVuZGVyYWJsZURhdGFGb3JHcmFwaGljVHlwZSxcbiAgICAgICAgICAgICAgZXZlbnREYXRhLFxuICAgICAgICAgICAgICBvcHRpb25zXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBTQ09PUkRfVFlQRVMuQ0lSQ0xFOlxuICAgICAgICAgICAgdGhpcy5yZW5kZXJDaXJjbGUocmVuZGVyYWJsZURhdGFGb3JHcmFwaGljVHlwZSwgZXZlbnREYXRhLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgU0NPT1JEX1RZUEVTLkVMTElQU0U6XG4gICAgICAgICAgICB0aGlzLnJlbmRlckVsbGlwc2UoXG4gICAgICAgICAgICAgIHJlbmRlcmFibGVEYXRhRm9yR3JhcGhpY1R5cGUsXG4gICAgICAgICAgICAgIGV2ZW50RGF0YSxcbiAgICAgICAgICAgICAgb3B0aW9uc1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgeyBlbGVtZW50IH0gPSBldmVudERhdGE7XG4gICAgICBjb25zdCBjb250ZXh0ID0gZ2V0TmV3Q29udGV4dChldmVudERhdGEuY2FudmFzQ29udGV4dC5jYW52YXMpO1xuXG4gICAgICBpZiAoIWRhdGEuaGFuZGxlcyB8fCAhZGF0YS5oYW5kbGVzLnRleHRCb3gpIHtcbiAgICAgICAgY29uc3QgdGV4dEJveCA9IHtcbiAgICAgICAgICBhY3RpdmU6IGZhbHNlLFxuICAgICAgICAgIGhhc01vdmVkOiB0cnVlLFxuICAgICAgICAgIG1vdmVzSW5kZXBlbmRlbnRseTogZmFsc2UsXG4gICAgICAgICAgZHJhd25JbmRlcGVuZGVudGx5OiB0cnVlLFxuICAgICAgICAgIGFsbG93ZWRPdXRzaWRlSW1hZ2U6IHRydWUsXG4gICAgICAgICAgaGFzQm91bmRpbmdCb3g6IHRydWUsXG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgYW5jaG9yUG9pbnRzID0gX2dldFRleHRCb3hBbmNob3JQb2ludHNGb3JSZW5kZXJhYmxlRGF0YShcbiAgICAgICAgICByZW5kZXJhYmxlRGF0YSxcbiAgICAgICAgICBldmVudERhdGFcbiAgICAgICAgKTtcbiAgICAgICAgdGV4dEJveC5hbmNob3JQb2ludHMgPSBhbmNob3JQb2ludHM7XG5cbiAgICAgICAgY29uc3QgYm90dG9tUmlnaHQgPSB7XG4gICAgICAgICAgeDogTWF0aC5tYXgoLi4uYW5jaG9yUG9pbnRzLm1hcChwb2ludCA9PiBwb2ludC54KSksXG4gICAgICAgICAgeTogTWF0aC5tYXgoLi4uYW5jaG9yUG9pbnRzLm1hcChwb2ludCA9PiBwb2ludC55KSksXG4gICAgICAgIH07XG5cbiAgICAgICAgdGV4dEJveC54ID0gYm90dG9tUmlnaHQueDtcbiAgICAgICAgdGV4dEJveC55ID0gYm90dG9tUmlnaHQueTtcblxuICAgICAgICBkYXRhLmhhbmRsZXMgPSB7fTtcbiAgICAgICAgZGF0YS5oYW5kbGVzLnRleHRCb3ggPSB0ZXh0Qm94O1xuXG4gICAgICAgIHNob3VsZFJlcG9zaXRpb25UZXh0Qm94ZXMgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICBjb25zdCB0ZXh0ID0gX2dldFRleHRCb3hMaW5lc0Zyb21MYWJlbHMobGFiZWxzKTtcblxuICAgICAgZnVuY3Rpb24gdGV4dEJveEFuY2hvclBvaW50cygpIHtcbiAgICAgICAgcmV0dXJuIGRhdGEuaGFuZGxlcy50ZXh0Qm94LmFuY2hvclBvaW50cztcbiAgICAgIH1cblxuICAgICAgZHJhdyhjb250ZXh0LCBjb250ZXh0ID0+IHtcbiAgICAgICAgZHJhd0xpbmtlZFRleHRCb3goXG4gICAgICAgICAgY29udGV4dCxcbiAgICAgICAgICBlbGVtZW50LFxuICAgICAgICAgIGRhdGEuaGFuZGxlcy50ZXh0Qm94LFxuICAgICAgICAgIHRleHQsXG4gICAgICAgICAgZGF0YS5oYW5kbGVzLFxuICAgICAgICAgIHRleHRCb3hBbmNob3JQb2ludHMsXG4gICAgICAgICAgY29sb3IsXG4gICAgICAgICAgbGluZVdpZHRoLFxuICAgICAgICAgIDAsXG4gICAgICAgICAgdHJ1ZVxuICAgICAgICApO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gVE9PRCAtPiB0ZXh0IGJveGVzIG1heSBvdmVybGFwIHdpdGggb3RoZXIgYW5ub3RhdGlvbnMgYXQgdGhlIG1vbWVudC5cbiAgICAvLyBUbyBiZSBmaXhlZCBhZnRlciB3ZSBnZXQgcmVxdWlyZW1lbnRzLlxuICAgIC8vIGlmIChzaG91bGRSZXBvc2l0aW9uVGV4dEJveGVzKSB7XG4gICAgLy8gICB0aGlzLnJlcG9zaXRpb25UZXh0Qm94KGZpbHRlcmVkVG9vbERhdGEsIGV2ZW50RGF0YSk7XG4gICAgLy8gfVxuICB9XG5cbiAgLy8gcmVwb3NpdGlvblRleHRCb3godG9vbERhdGEsIGV2ZW50RGF0YSkge1xuICAvLyAgIGNvbnN0IHRvb2xCb3VuZGluZ0JveGVzID0gW107XG5cbiAgLy8gICBmb3IgKGxldCBpID0gMDsgaSA8IHRvb2xEYXRhLmxlbmd0aDsgaSsrKSB7XG4gIC8vICAgICBjb25zdCB0b29sRGF0YUkgPSB0b29sRGF0YVtpXTtcblxuICAvLyAgICAgY29uc3QgeyB0ZXh0Qm94IH0gPSB0b29sRGF0YUkuaGFuZGxlcztcbiAgLy8gICAgIGNvbnN0IHsgYW5jaG9yUG9pbnRzIH0gPSB0ZXh0Qm94O1xuXG4gIC8vICAgICBjb25zdCBib3VuZGluZ0JveCA9IF9nZXRCb3VuZGluZ0JveEZyb21BbmNob3JQb2ludHMoYW5jaG9yUG9pbnRzKTtcbiAgLy8gICAgIC8vIEdldCB0aGUgdGV4dGJveCBib3VuZGluZyBsb2NhdGlvbnMuXG4gIC8vICAgICAvLyBHZXQgdGhlIHRvb2wgZXh0ZW50cy5cbiAgLy8gICB9XG4gIC8vIH1cblxuICByZW5kZXJQb2x5TGluZShyZW5kZXJhYmxlRGF0YSwgZXZlbnREYXRhLCBvcHRpb25zKSB7XG4gICAgY29uc3QgeyBlbGVtZW50IH0gPSBldmVudERhdGE7XG4gICAgY29uc3QgY29udGV4dCA9IGdldE5ld0NvbnRleHQoZXZlbnREYXRhLmNhbnZhc0NvbnRleHQuY2FudmFzKTtcblxuICAgIHJlbmRlcmFibGVEYXRhLmZvckVhY2gocG9pbnRzID0+IHtcbiAgICAgIGRyYXcoY29udGV4dCwgY29udGV4dCA9PiB7XG4gICAgICAgIGRyYXdKb2luZWRMaW5lcyhjb250ZXh0LCBlbGVtZW50LCBwb2ludHNbMF0sIHBvaW50cywgb3B0aW9ucyk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIHJlbmRlck11bHRpcG9pbnQocmVuZGVyYWJsZURhdGEsIGV2ZW50RGF0YSwgb3B0aW9ucykge1xuICAgIGNvbnN0IGNvbnRleHQgPSBnZXROZXdDb250ZXh0KGV2ZW50RGF0YS5jYW52YXNDb250ZXh0LmNhbnZhcyk7XG5cbiAgICByZW5kZXJhYmxlRGF0YS5mb3JFYWNoKHBvaW50cyA9PiB7XG4gICAgICBkcmF3KGNvbnRleHQsIGNvbnRleHQgPT4ge1xuICAgICAgICBkcmF3SGFuZGxlcyhjb250ZXh0LCBldmVudERhdGEsIHBvaW50cywgb3B0aW9ucyk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIHJlbmRlclBvaW50KHJlbmRlcmFibGVEYXRhLCBldmVudERhdGEsIG9wdGlvbnMpIHtcbiAgICAvLyBSZW5kZXIgc2luZ2xlIHBvaW50IGFzIGFuIGFycm93LlxuICAgIGNvbnN0IHsgZWxlbWVudCwgaW1hZ2UgfSA9IGV2ZW50RGF0YTtcbiAgICBjb25zdCB7IHJvd3MsIGNvbHVtbnMgfSA9IGltYWdlO1xuICAgIGNvbnN0IGNvbnRleHQgPSBnZXROZXdDb250ZXh0KGV2ZW50RGF0YS5jYW52YXNDb250ZXh0LmNhbnZhcyk7XG5cbiAgICBjb25zdCB7IGNvbG9yLCBsaW5lV2lkdGggfSA9IG9wdGlvbnM7XG5cbiAgICAvLyBGaW5kIGEgc3VpdGFibGUgbGVuZ3RoIGZvciB0aGUgaW1hZ2Ugc2l6ZS5cblxuICAgIGNvbnN0IHhPZmZzZXQgPSBjb2x1bW5zIC8gMTA7XG4gICAgY29uc3QgeU9mZnNldCA9IHJvd3MgLyAxMDtcblxuICAgIHJlbmRlcmFibGVEYXRhLmZvckVhY2gocG9pbnRzID0+IHtcbiAgICAgIGNvbnN0IHBvaW50ID0gcG9pbnRzWzBdOyAvLyBUaGUgU0NPT1JEIHR5cGUgaXMgUE9JTlQgc28gdGhlIGFycmF5IGxlbmd0aCBpcyAxLlxuICAgICAgZHJhdyhjb250ZXh0LCBjb250ZXh0ID0+IHtcbiAgICAgICAgLy8gRHJhdyB0aGUgYXJyb3dcbiAgICAgICAgY29uc3QgaGFuZGxlU3RhcnRDYW52YXMgPSBwaXhlbFRvQ2FudmFzKGVsZW1lbnQsIHBvaW50KTtcbiAgICAgICAgY29uc3QgaGFuZGxlRW5kQ2FudmFzID0gcGl4ZWxUb0NhbnZhcyhlbGVtZW50LCB7XG4gICAgICAgICAgeDogcG9pbnQueCArIHhPZmZzZXQsXG4gICAgICAgICAgeTogcG9pbnQueSArIHlPZmZzZXQsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGRyYXdBcnJvdyhcbiAgICAgICAgICBjb250ZXh0LFxuICAgICAgICAgIGhhbmRsZUVuZENhbnZhcyxcbiAgICAgICAgICBoYW5kbGVTdGFydENhbnZhcyxcbiAgICAgICAgICBjb2xvcixcbiAgICAgICAgICBsaW5lV2lkdGgsXG4gICAgICAgICAgZmFsc2VcbiAgICAgICAgKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgcmVuZGVyQ2lyY2xlKHJlbmRlcmFibGVEYXRhLCBldmVudERhdGEsIG9wdGlvbnMpIHtcbiAgICBjb25zdCB7IGVsZW1lbnQgfSA9IGV2ZW50RGF0YTtcblxuICAgIGNvbnN0IGNvbnRleHQgPSBnZXROZXdDb250ZXh0KGV2ZW50RGF0YS5jYW52YXNDb250ZXh0LmNhbnZhcyk7XG5cbiAgICByZW5kZXJhYmxlRGF0YS5mb3JFYWNoKGNpcmNsZSA9PiB7XG4gICAgICBjb25zdCB7IGNlbnRlciwgcmFkaXVzIH0gPSBjaXJjbGU7XG5cbiAgICAgIGRyYXdDaXJjbGUoY29udGV4dCwgZWxlbWVudCwgY2VudGVyLCByYWRpdXMsIG9wdGlvbnMpO1xuICAgIH0pO1xuICB9XG5cbiAgcmVuZGVyRWxsaXBzZShyZW5kZXJhYmxlRGF0YSwgZXZlbnREYXRhLCBvcHRpb25zKSB7XG4gICAgY29uc3QgeyBlbGVtZW50IH0gPSBldmVudERhdGE7XG5cbiAgICBjb25zdCBjb250ZXh0ID0gZ2V0TmV3Q29udGV4dChldmVudERhdGEuY2FudmFzQ29udGV4dC5jYW52YXMpO1xuXG4gICAgcmVuZGVyYWJsZURhdGEuZm9yRWFjaChlbGxpcHNlID0+IHtcbiAgICAgIGNvbnN0IHsgY29ybmVyMSwgY29ybmVyMiB9ID0gZWxsaXBzZTtcblxuICAgICAgZHJhd0VsbGlwc2UoXG4gICAgICAgIGNvbnRleHQsXG4gICAgICAgIGVsZW1lbnQsXG4gICAgICAgIGNvcm5lcjEsXG4gICAgICAgIGNvcm5lcjIsXG4gICAgICAgIG9wdGlvbnMsXG4gICAgICAgICdwaXhlbCcsXG4gICAgICAgIDAgLy8gVE9ETyAtPiBXb3JrIG91ciB0aGUgaW5pdGlhbCByb3RhdGlvbiBhbmQgYWRkIGl0IGhlcmUgc28gd2UgcmVuZGVyIGFwcHJvcHJpYXRlbHkgcm90YXRlZCBlbGxpcHNlcy5cbiAgICAgICk7XG4gICAgfSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gX2dldFRleHRCb3hMaW5lc0Zyb21MYWJlbHMobGFiZWxzKSB7XG4gIC8vIFRPRE8gLT4gbWF4IDMgZm9yIG5vdyAobGFiZWwgKyBzaG9ydEF4aXMgKyBsb25nQXhpcyksIG5lZWQgYSBnZW5lcmljIHNvbHV0aW9uIGZvciB0aGlzIVxuXG4gIGNvbnN0IGxhYmVsTGVuZ3RoID0gTWF0aC5taW4obGFiZWxzLmxlbmd0aCwgMyk7XG4gIGNvbnN0IGxpbmVzID0gW107XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsYWJlbExlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgbGFiZWxFbnRyeSA9IGxhYmVsc1tpXTtcbiAgICBsaW5lcy5wdXNoKGAke19sYWJlbFRvU2hvcnRoYW5kKGxhYmVsRW50cnkubGFiZWwpfSR7bGFiZWxFbnRyeS52YWx1ZX1gKTtcbiAgfVxuXG4gIHJldHVybiBsaW5lcztcbn1cblxuY29uc3QgU0hPUlRfSEFORF9NQVAgPSB7XG4gICdTaG9ydCBBeGlzJzogJ1cgJyxcbiAgJ0xvbmcgQXhpcyc6ICdMICcsXG4gIEFSRUE6ICdBcmVhICcsXG4gIExlbmd0aDogJycsXG4gIENPUk5FUlNUT05FRlJFRVRFWFQ6ICcnLFxufTtcblxuZnVuY3Rpb24gX2xhYmVsVG9TaG9ydGhhbmQobGFiZWwpIHtcbiAgY29uc3Qgc2hvcnRIYW5kID0gU0hPUlRfSEFORF9NQVBbbGFiZWxdO1xuXG4gIGlmIChzaG9ydEhhbmQgIT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiBzaG9ydEhhbmQ7XG4gIH1cblxuICByZXR1cm4gbGFiZWw7XG59XG5cbmZ1bmN0aW9uIF9nZXRUZXh0Qm94QW5jaG9yUG9pbnRzRm9yUmVuZGVyYWJsZURhdGEocmVuZGVyYWJsZURhdGEsIGV2ZW50RGF0YSkge1xuICBsZXQgYW5jaG9yUG9pbnRzID0gW107XG5cbiAgT2JqZWN0LmtleXMocmVuZGVyYWJsZURhdGEpLmZvckVhY2goR3JhcGhpY1R5cGUgPT4ge1xuICAgIGNvbnN0IHJlbmRlcmFibGVEYXRhRm9yR3JhcGhpY1R5cGUgPSByZW5kZXJhYmxlRGF0YVtHcmFwaGljVHlwZV07XG5cbiAgICBzd2l0Y2ggKEdyYXBoaWNUeXBlKSB7XG4gICAgICBjYXNlIFNDT09SRF9UWVBFUy5QT0lOVDpcbiAgICAgICAgcmVuZGVyYWJsZURhdGFGb3JHcmFwaGljVHlwZS5mb3JFYWNoKHBvaW50cyA9PiB7XG4gICAgICAgICAgYW5jaG9yUG9pbnRzID0gWy4uLmFuY2hvclBvaW50cywgLi4ucG9pbnRzXTtcblxuICAgICAgICAgIC8vIEFkZCBvdGhlciBhcnJvdyBwb2ludCBiYXNlZCBvbiBpbWFnZSBzaXplLlxuICAgICAgICAgIGNvbnN0IHsgaW1hZ2UgfSA9IGV2ZW50RGF0YTtcbiAgICAgICAgICBjb25zdCB7IHJvd3MsIGNvbHVtbnMgfSA9IGltYWdlO1xuXG4gICAgICAgICAgY29uc3QgeE9mZnNldCA9IGNvbHVtbnMgLyAxMDtcbiAgICAgICAgICBjb25zdCB5T2Zmc2V0ID0gcm93cyAvIDEwO1xuICAgICAgICAgIGNvbnN0IHBvaW50ID0gcG9pbnRzWzBdO1xuXG4gICAgICAgICAgYW5jaG9yUG9pbnRzLnB1c2goeyB4OiBwb2ludC54ICsgeE9mZnNldCwgeTogcG9pbnQueSArIHlPZmZzZXQgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBTQ09PUkRfVFlQRVMuTVVMVElQT0lOVDpcbiAgICAgIGNhc2UgU0NPT1JEX1RZUEVTLlBPTFlMSU5FOlxuICAgICAgICByZW5kZXJhYmxlRGF0YUZvckdyYXBoaWNUeXBlLmZvckVhY2gocG9pbnRzID0+IHtcbiAgICAgICAgICBhbmNob3JQb2ludHMgPSBbLi4uYW5jaG9yUG9pbnRzLCAuLi5wb2ludHNdO1xuICAgICAgICB9KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFNDT09SRF9UWVBFUy5DSVJDTEU6XG4gICAgICAgIHJlbmRlcmFibGVEYXRhRm9yR3JhcGhpY1R5cGUuZm9yRWFjaChjaXJjbGUgPT4ge1xuICAgICAgICAgIGNvbnN0IHsgY2VudGVyLCByYWRpdXMgfSA9IGNpcmNsZTtcblxuICAgICAgICAgIGFuY2hvclBvaW50cy5wdXNoKHsgeDogY2VudGVyLnggKyByYWRpdXMsIHk6IGNlbnRlci55IH0pO1xuICAgICAgICAgIGFuY2hvclBvaW50cy5wdXNoKHsgeDogY2VudGVyLnggLSByYWRpdXMsIHk6IGNlbnRlci55IH0pO1xuICAgICAgICAgIGFuY2hvclBvaW50cy5wdXNoKHsgeDogY2VudGVyLngsIHk6IGNlbnRlci55ICsgcmFkaXVzIH0pO1xuICAgICAgICAgIGFuY2hvclBvaW50cy5wdXNoKHsgeDogY2VudGVyLngsIHk6IGNlbnRlci55IC0gcmFkaXVzIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgU0NPT1JEX1RZUEVTLkVMTElQU0U6XG4gICAgICAgIHJlbmRlcmFibGVEYXRhRm9yR3JhcGhpY1R5cGUuZm9yRWFjaChlbGxpcHNlID0+IHtcbiAgICAgICAgICBjb25zdCB7IGNvcm5lcjEsIGNvcm5lcjIgfSA9IGVsbGlwc2U7XG5cbiAgICAgICAgICBjb25zdCBoYWxmV2lkdGggPSBNYXRoLmFicyhjb3JuZXIxLnggLSBjb3JuZXIyLngpIC8gMjtcbiAgICAgICAgICBjb25zdCBoYWxmSGVpZ2h0ID0gTWF0aC5hYnMoY29ybmVyMS55IC0gY29ybmVyMi55KSAvIDI7XG5cbiAgICAgICAgICBjb25zdCBjZW50ZXIgPSB7XG4gICAgICAgICAgICB4OiAoY29ybmVyMS54ICsgY29ybmVyMi54KSAvIDIsXG4gICAgICAgICAgICB5OiAoY29ybmVyMS55ICsgY29ybmVyMi55KSAvIDIsXG4gICAgICAgICAgfTtcblxuICAgICAgICAgIGFuY2hvclBvaW50cy5wdXNoKHsgeDogY2VudGVyLnggKyBoYWxmV2lkdGgsIHk6IGNlbnRlci55IH0pO1xuICAgICAgICAgIGFuY2hvclBvaW50cy5wdXNoKHsgeDogY2VudGVyLnggLSBoYWxmV2lkdGgsIHk6IGNlbnRlci55IH0pO1xuICAgICAgICAgIGFuY2hvclBvaW50cy5wdXNoKHsgeDogY2VudGVyLngsIHk6IGNlbnRlci55ICsgaGFsZkhlaWdodCB9KTtcbiAgICAgICAgICBhbmNob3JQb2ludHMucHVzaCh7IHg6IGNlbnRlci54LCB5OiBjZW50ZXIueSAtIGhhbGZIZWlnaHQgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBhbmNob3JQb2ludHM7XG59XG5cbmZ1bmN0aW9uIF9nZXRCb3VuZGluZ0JveEZyb21BbmNob3JQb2ludHMoYW5jaG9yUG9pbnRzKSB7XG4gIGxldCBtaW5YID0gSW5maW5pdHk7XG4gIGxldCBtYXhYID0gLUluZmluaXR5O1xuICBsZXQgbWluWSA9IEluZmluaXR5O1xuICBsZXQgbWF4WSA9IC1JbmZpbml0eTtcblxuICBhbmNob3JQb2ludHMuZm9yRWFjaChwb2ludCA9PiB7XG4gICAgY29uc3QgeyB4LCB5IH0gPSBwb2ludDtcblxuICAgIGlmICh4ID4gbWF4WCkge1xuICAgICAgbWF4WCA9IHg7XG4gICAgfSBlbHNlIGlmICh4IDwgbWluWCkge1xuICAgICAgbWluWCA9IHg7XG4gICAgfVxuXG4gICAgaWYgKHkgPiBtYXhYKSB7XG4gICAgICBtYXhZID0geTtcbiAgICB9IGVsc2UgaWYgKHkgPCBtaW5ZKSB7XG4gICAgICBtaW5ZID0geTtcbiAgICB9XG4gIH0pO1xufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBOzs7OztBQUNBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFEQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBRkE7QUFLQTtBQUVBO0FBRUE7QUFWQTtBQVdBO0FBQ0E7OztBQUNBO0FBQUE7QUFDQTtBQUFBO0FBREE7QUFHQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBWEE7QUFBQTtBQW9CQTtBQUNBO0FBR0E7QUFBQTtBQUFBO0FBSUE7QUFDQTtBQTdCQTtBQStCQTtBQS9CQTtBQUFBO0FBa0NBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBSUE7QUEzQkE7QUE2QkE7QUE3RUE7QUFnRkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFOQTtBQUNBO0FBUUE7QUFDQTtBQUdBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFGQTtBQUtBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVlBO0FBbklBO0FBQ0E7QUE2QkE7QUFBQTtBQXNHQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUdBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUNBO0FBQUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBSUE7QUFKQTtBQUFBO0FBQ0E7QUFTQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFLQTtBQVFBO0FBQ0E7QUFDQTs7O0FBRUE7QUFBQTtBQUdBO0FBRUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBOzs7QUFFQTtBQUFBO0FBR0E7QUFFQTtBQUFBO0FBQUE7QUFHQTtBQUFBO0FBU0E7QUFDQTs7Ozs7Ozs7Ozs7QUFoUUE7QUFDQTtBQURBO0FBQ0E7QUFrUUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFMQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBQUE7QUFBQTtBQU9BO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUdBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRkE7QUFLQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFuREE7QUFxREE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7O0FBdllBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBbVFBO0FBY0E7QUFRQTtBQVVBO0FBZ0VBOzs7Ozs7Ozs7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///../../../extensions/dicom-sr/src/tools/DICOMSRDisplayTool.js\n");

/***/ }),

/***/ "../../../extensions/dicom-sr/src/viewports/OHIFCornerstoneSRViewport.js":
/*!*************************************************************************************!*\
  !*** C:/src/Viewers/extensions/dicom-sr/src/viewports/OHIFCornerstoneSRViewport.js ***!
  \*************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(module) {/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"../../../node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ \"../../../node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var cornerstone_tools__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cornerstone-tools */ \"../../../../bwCornerstoneTools/dist/cornerstoneTools.js\");\n/* harmony import */ var cornerstone_tools__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(cornerstone_tools__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var cornerstone_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! cornerstone-core */ \"../../../../cornerstone/dist/cornerstone.js\");\n/* harmony import */ var cornerstone_core__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(cornerstone_core__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var react_cornerstone_viewport__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-cornerstone-viewport */ \"../../../node_modules/react-cornerstone-viewport/dist/index.umd.js\");\n/* harmony import */ var react_cornerstone_viewport__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react_cornerstone_viewport__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _ohif_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @ohif/core */ \"../../core/src/utils/index.js\");\n/* harmony import */ var _ohif_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @ohif/core */ \"../../core/src/index.js\");\n/* harmony import */ var _tools_DICOMSRDisplayTool__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./../tools/DICOMSRDisplayTool */ \"../../../extensions/dicom-sr/src/tools/DICOMSRDisplayTool.js\");\n/* harmony import */ var _ViewportOverlay__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./ViewportOverlay */ \"../../../extensions/dicom-sr/src/viewports/ViewportOverlay.js\");\n/* harmony import */ var _ohif_ui__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @ohif/ui */ \"../../ui/index.js\");\n/* harmony import */ var _constants_toolNames__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./../constants/toolNames */ \"../../../extensions/dicom-sr/src/constants/toolNames.js\");\n/* harmony import */ var dcmjs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! dcmjs */ \"../../../node_modules/dcmjs/build/dcmjs.es.js\");\n/* harmony import */ var _id__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./../id */ \"../../../extensions/dicom-sr/src/id.js\");\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {\n  return a;\n};\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar formatDate = _ohif_core__WEBPACK_IMPORTED_MODULE_5__[\"default\"].formatDate;\nvar scrollToIndex = cornerstone_tools__WEBPACK_IMPORTED_MODULE_2___default.a.importInternal('util/scrollToIndex');\nvar globalImageIdSpecificToolStateManager = cornerstone_tools__WEBPACK_IMPORTED_MODULE_2___default.a.globalImageIdSpecificToolStateManager;\nvar _OHIF$utils = _ohif_core__WEBPACK_IMPORTED_MODULE_6__[\"default\"].utils,\n    StackManager = _OHIF$utils.StackManager,\n    guid = _OHIF$utils.guid;\nvar MEASUREMENT_TRACKING_EXTENSION_ID = 'org.ohif.measurement-tracking';\n\nfunction OHIFCornerstoneSRViewport(_ref) {\n  var _trackedMeasurements, _trackedMeasurements$, _trackedMeasurements$2;\n\n  var children = _ref.children,\n      dataSource = _ref.dataSource,\n      displaySet = _ref.displaySet,\n      viewportIndex = _ref.viewportIndex,\n      servicesManager = _ref.servicesManager,\n      extensionManager = _ref.extensionManager;\n  var _servicesManager$serv = servicesManager.services,\n      DisplaySetService = _servicesManager$serv.DisplaySetService,\n      MeasurementService = _servicesManager$serv.MeasurementService,\n      ToolBarService = _servicesManager$serv.ToolBarService;\n\n  var _useViewportGrid = Object(_ohif_ui__WEBPACK_IMPORTED_MODULE_9__[\"useViewportGrid\"])(),\n      _useViewportGrid2 = _slicedToArray(_useViewportGrid, 2),\n      viewportGrid = _useViewportGrid2[0],\n      viewportGridService = _useViewportGrid2[1];\n\n  var _useViewportDialog = Object(_ohif_ui__WEBPACK_IMPORTED_MODULE_9__[\"useViewportDialog\"])(),\n      _useViewportDialog2 = _slicedToArray(_useViewportDialog, 2),\n      viewportDialogState = _useViewportDialog2[0],\n      viewportDialogApi = _useViewportDialog2[1];\n\n  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])(0),\n      _useState2 = _slicedToArray(_useState, 2),\n      measurementSelected = _useState2[0],\n      setMeasurementSelected = _useState2[1];\n\n  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])(1),\n      _useState4 = _slicedToArray(_useState3, 2),\n      measurementCount = _useState4[0],\n      setMeasurementCount = _useState4[1];\n\n  var _useState5 = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])(null),\n      _useState6 = _slicedToArray(_useState5, 2),\n      viewportData = _useState6[0],\n      setViewportData = _useState6[1];\n\n  var _useState7 = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])({}),\n      _useState8 = _slicedToArray(_useState7, 2),\n      activeDisplaySetData = _useState8[0],\n      setActiveDisplaySetData = _useState8[1];\n\n  var _useState9 = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])(null),\n      _useState10 = _slicedToArray(_useState9, 2),\n      element = _useState10[0],\n      setElement = _useState10[1];\n\n  var _useState11 = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useState\"])(displaySet.isHydrated),\n      _useState12 = _slicedToArray(_useState11, 2),\n      isHydrated = _useState12[0],\n      setIsHydrated = _useState12[1];\n\n  var viewports = viewportGrid.viewports,\n      activeViewportIndex = viewportGrid.activeViewportIndex;\n  Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useEffect\"])(function () {\n    var onDisplaySetsRemovedSubscription = DisplaySetService.subscribe(DisplaySetService.EVENTS.DISPLAY_SETS_REMOVED, function (_ref2) {\n      var displaySetInstanceUIDs = _ref2.displaySetInstanceUIDs;\n      var activeViewport = viewports[activeViewportIndex];\n\n      if (displaySetInstanceUIDs.includes(activeViewport.displaySetInstanceUID)) {\n        viewportGridService.setDisplaysetForViewport({\n          viewportIndex: activeViewportIndex,\n          displaySetInstanceUID: undefined\n        });\n      }\n    });\n    return function () {\n      onDisplaySetsRemovedSubscription.unsubscribe();\n    };\n  }, []); // Optional hook into tracking extension, if present.\n\n  var trackedMeasurements;\n  var sendTrackedMeasurementsEvent; // TODO: this is a hook that fails if we register/de-register\n  //\n\n  if (extensionManager.registeredExtensionIds.includes(MEASUREMENT_TRACKING_EXTENSION_ID)) {\n    var contextModule = extensionManager.getModuleEntry('org.ohif.measurement-tracking.contextModule.TrackedMeasurementsContext');\n\n    var useTrackedMeasurements = function useTrackedMeasurements() {\n      return Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useContext\"])(contextModule.context);\n    };\n\n    __signature__(useTrackedMeasurements, \"useContext{}\");\n\n    var _useTrackedMeasuremen = useTrackedMeasurements();\n\n    var _useTrackedMeasuremen2 = _slicedToArray(_useTrackedMeasuremen, 2);\n\n    trackedMeasurements = _useTrackedMeasuremen2[0];\n    sendTrackedMeasurementsEvent = _useTrackedMeasuremen2[1];\n  } // Locked if tracking any series\n\n\n  var isLocked = ((_trackedMeasurements = trackedMeasurements) === null || _trackedMeasurements === void 0 ? void 0 : (_trackedMeasurements$ = _trackedMeasurements.context) === null || _trackedMeasurements$ === void 0 ? void 0 : (_trackedMeasurements$2 = _trackedMeasurements$.trackedSeries) === null || _trackedMeasurements$2 === void 0 ? void 0 : _trackedMeasurements$2.length) > 0;\n  Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useEffect\"])(function () {\n    var _trackedMeasurements2, _trackedMeasurements3, _trackedMeasurements4;\n\n    isLocked = ((_trackedMeasurements2 = trackedMeasurements) === null || _trackedMeasurements2 === void 0 ? void 0 : (_trackedMeasurements3 = _trackedMeasurements2.context) === null || _trackedMeasurements3 === void 0 ? void 0 : (_trackedMeasurements4 = _trackedMeasurements3.trackedSeries) === null || _trackedMeasurements4 === void 0 ? void 0 : _trackedMeasurements4.length) > 0;\n  }, [trackedMeasurements]);\n\n  function _getToolAlias() {\n    var primaryToolId = ToolBarService.state.primaryToolId;\n    var toolAlias = primaryToolId;\n\n    switch (primaryToolId) {\n      case 'Length':\n        toolAlias = 'SRLength';\n        break;\n\n      case 'Bidirectional':\n        toolAlias = 'SRBidirectional';\n        break;\n\n      case 'ArrowAnnotate':\n        toolAlias = 'SRArrowAnnotate';\n        break;\n\n      case 'EllipticalRoi':\n        toolAlias = 'SREllipticalRoi';\n        break;\n    }\n\n    return toolAlias;\n  }\n\n  var onElementEnabled = function onElementEnabled(evt) {\n    var eventData = evt.detail;\n    var targetElement = eventData.element;\n\n    var toolAlias = _getToolAlias(); // These are 1:1 for built-in only\n    // ~~ MAGIC\n\n\n    cornerstone_tools__WEBPACK_IMPORTED_MODULE_2___default.a.addToolForElement(targetElement, _tools_DICOMSRDisplayTool__WEBPACK_IMPORTED_MODULE_7__[\"default\"]);\n    cornerstone_tools__WEBPACK_IMPORTED_MODULE_2___default.a.setToolEnabledForElement(targetElement, _constants_toolNames__WEBPACK_IMPORTED_MODULE_10__[\"default\"].DICOM_SR_DISPLAY_TOOL); // ~~ Variants\n\n    cornerstone_tools__WEBPACK_IMPORTED_MODULE_2___default.a.addToolForElement(targetElement, cornerstone_tools__WEBPACK_IMPORTED_MODULE_2___default.a.LengthTool, {\n      name: 'SRLength',\n      configuration: {\n        renderDashed: true\n      }\n    });\n    cornerstone_tools__WEBPACK_IMPORTED_MODULE_2___default.a.addToolForElement(targetElement, cornerstone_tools__WEBPACK_IMPORTED_MODULE_2___default.a.ArrowAnnotateTool, {\n      name: 'SRArrowAnnotate',\n      configuration: {\n        renderDashed: true\n      }\n    });\n    cornerstone_tools__WEBPACK_IMPORTED_MODULE_2___default.a.addToolForElement(targetElement, cornerstone_tools__WEBPACK_IMPORTED_MODULE_2___default.a.BidirectionalTool, {\n      name: 'SRBidirectional',\n      configuration: {\n        renderDashed: true\n      }\n    });\n    cornerstone_tools__WEBPACK_IMPORTED_MODULE_2___default.a.addToolForElement(targetElement, cornerstone_tools__WEBPACK_IMPORTED_MODULE_2___default.a.EllipticalRoiTool, {\n      name: 'SREllipticalRoi',\n      configuration: {\n        renderDashed: true\n      }\n    }); // ~~ Business as usual\n\n    cornerstone_tools__WEBPACK_IMPORTED_MODULE_2___default.a.setToolActiveForElement(targetElement, 'PanMultiTouch', {\n      pointers: 2\n    });\n    cornerstone_tools__WEBPACK_IMPORTED_MODULE_2___default.a.setToolActiveForElement(targetElement, 'ZoomTouchPinch', {}); // TODO: Add always dashed tool alternative aliases\n    // TODO: or same name... alternative config?\n\n    cornerstone_tools__WEBPACK_IMPORTED_MODULE_2___default.a.setToolActiveForElement(targetElement, toolAlias, {\n      mouseButtonMask: 1\n    });\n    cornerstone_tools__WEBPACK_IMPORTED_MODULE_2___default.a.setToolActiveForElement(targetElement, 'Pan', {\n      mouseButtonMask: 4\n    });\n    cornerstone_tools__WEBPACK_IMPORTED_MODULE_2___default.a.setToolActiveForElement(targetElement, 'Zoom', {\n      mouseButtonMask: 2\n    });\n    cornerstone_tools__WEBPACK_IMPORTED_MODULE_2___default.a.setToolActiveForElement(targetElement, 'StackScrollMouseWheel', {});\n    setTrackingUniqueIdentifiersForElement(targetElement);\n    setElement(targetElement); // TODO: Enabled Element appears to be incorrect here, it should be called\n    // 'element' since it is the DOM element, not the enabledElement object\n\n    var OHIFCornerstoneEnabledElementEvent = new CustomEvent('ohif-cornerstone-enabled-element-event', {\n      detail: {\n        context: 'ACTIVE_VIEWPORT::STRUCTURED_REPORT',\n        enabledElement: targetElement,\n        viewportIndex: viewportIndex\n      }\n    });\n    document.dispatchEvent(OHIFCornerstoneEnabledElementEvent);\n  };\n\n  Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useEffect\"])(function () {\n    if (!displaySet.isLoaded) {\n      displaySet.load();\n    }\n\n    setIsHydrated(displaySet.isHydrated);\n  }, [displaySet]);\n  var setTrackingUniqueIdentifiersForElement = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useCallback\"])(function (targetElement) {\n    var measurements = displaySet.measurements;\n    var srModule = cornerstone_tools__WEBPACK_IMPORTED_MODULE_2___default.a.getModule(_id__WEBPACK_IMPORTED_MODULE_12__[\"default\"]);\n    srModule.setters.trackingUniqueIdentifiersForElement(targetElement, measurements.map(function (measurement) {\n      return measurement.TrackingUniqueIdentifier;\n    }), measurementSelected);\n  });\n  Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useEffect\"])(function () {\n    var numMeasurements = displaySet.measurements.length;\n    setMeasurementCount(numMeasurements);\n  }, [dataSource, displaySet]);\n  var updateViewport = Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useCallback\"])(function (newMeasurementSelected) {\n    var StudyInstanceUID = displaySet.StudyInstanceUID,\n        displaySetInstanceUID = displaySet.displaySetInstanceUID,\n        sopClassUids = displaySet.sopClassUids;\n\n    if (!StudyInstanceUID || !displaySetInstanceUID) {\n      return;\n    }\n\n    if (sopClassUids && sopClassUids.length > 1) {\n      console.warn('More than one SOPClassUID in the same series is not yet supported.');\n    }\n\n    _getViewportAndActiveDisplaySetData(dataSource, displaySet, newMeasurementSelected, DisplaySetService, element).then(function (_ref3) {\n      var viewportData = _ref3.viewportData,\n          activeDisplaySetData = _ref3.activeDisplaySetData;\n      setViewportData(_objectSpread({}, viewportData));\n      setActiveDisplaySetData(_objectSpread({}, activeDisplaySetData));\n      setMeasurementSelected(newMeasurementSelected);\n\n      if (element !== null) {\n        scrollToIndex(element, viewportData.stack.currentImageIdIndex);\n        cornerstone_core__WEBPACK_IMPORTED_MODULE_3___default.a.updateImage(element);\n      }\n    });\n  });\n  Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useEffect\"])(function () {\n    if (element !== null) {\n      setTrackingUniqueIdentifiersForElement(element);\n    }\n  }, // eslint-disable-next-line react-hooks/exhaustive-deps\n  [dataSource, displaySet]);\n  Object(react__WEBPACK_IMPORTED_MODULE_0__[\"useEffect\"])(function () {\n    updateViewport(measurementSelected);\n  }, // eslint-disable-next-line react-hooks/exhaustive-deps\n  [dataSource, displaySet, element]);\n  var firstViewportIndexWithMatchingDisplaySetUid = viewports.findIndex(function (vp) {\n    return vp.displaySetInstanceUID === displaySet.displaySetInstanceUID;\n  }); // ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n\n  var childrenWithProps = null;\n\n  if (!viewportData) {\n    return null;\n  }\n\n  var _viewportData$stack = viewportData.stack,\n      imageIds = _viewportData$stack.imageIds,\n      currentImageIdIndex = _viewportData$stack.currentImageIdIndex;\n\n  if (children && children.length) {\n    childrenWithProps = children.map(function (child, index) {\n      return child && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.cloneElement(child, {\n        viewportIndex: viewportIndex,\n        key: index\n      });\n    });\n  }\n\n  var Modality = displaySet.Modality;\n  var PatientID = activeDisplaySetData.PatientID,\n      PatientName = activeDisplaySetData.PatientName,\n      PatientSex = activeDisplaySetData.PatientSex,\n      PatientAge = activeDisplaySetData.PatientAge,\n      SliceThickness = activeDisplaySetData.SliceThickness,\n      ManufacturerModelName = activeDisplaySetData.ManufacturerModelName,\n      StudyDate = activeDisplaySetData.StudyDate,\n      SeriesDescription = activeDisplaySetData.SeriesDescription,\n      SeriesInstanceUID = activeDisplaySetData.SeriesInstanceUID,\n      SpacingBetweenSlices = activeDisplaySetData.SpacingBetweenSlices,\n      SeriesNumber = activeDisplaySetData.SeriesNumber,\n      displaySetInstanceUID = activeDisplaySetData.displaySetInstanceUID;\n\n  var onMeasurementChange = function onMeasurementChange(direction) {\n    var newMeasurementSelected = measurementSelected;\n\n    if (direction === 'right') {\n      newMeasurementSelected++;\n\n      if (newMeasurementSelected >= measurementCount) {\n        newMeasurementSelected = 0;\n      }\n    } else {\n      newMeasurementSelected--;\n\n      if (newMeasurementSelected < 0) {\n        newMeasurementSelected = measurementCount - 1;\n      }\n    }\n\n    updateViewport(newMeasurementSelected);\n  };\n\n  var label = viewports.length > 1 ? _viewportLabels[viewportIndex] : ''; // TODO -> disabled double click for now: onDoubleClick={_onDoubleClick}\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_0___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_ohif_ui__WEBPACK_IMPORTED_MODULE_9__[\"ViewportActionBar\"], {\n    onDoubleClick: function onDoubleClick(evt) {\n      evt.stopPropagation();\n      evt.preventDefault();\n    },\n    onPillClick: function onPillClick() {\n      sendTrackedMeasurementsEvent('PROMPT_HYDRATE_SR', {\n        displaySetInstanceUID: displaySet.displaySetInstanceUID,\n        viewportIndex: viewportIndex\n      });\n    },\n    onSeriesChange: onMeasurementChange,\n    studyData: {\n      label: label,\n      useAltStyling: true,\n      isTracked: false,\n      isLocked: isLocked,\n      isRehydratable: displaySet.isRehydratable,\n      isHydrated: isHydrated,\n      studyDate: formatDate(StudyDate),\n      currentSeries: SeriesNumber,\n      seriesDescription: SeriesDescription,\n      modality: Modality,\n      patientInformation: {\n        patientName: PatientName ? _ohif_core__WEBPACK_IMPORTED_MODULE_6__[\"default\"].utils.formatPN(PatientName.Alphabetic) : '',\n        patientSex: PatientSex || '',\n        patientAge: PatientAge || '',\n        MRN: PatientID || '',\n        thickness: SliceThickness ? \"\".concat(SliceThickness.toFixed(2), \"mm\") : '',\n        spacing: SpacingBetweenSlices !== undefined ? \"\".concat(SpacingBetweenSlices.toFixed(2), \"mm\") : '',\n        scanner: ManufacturerModelName || ''\n      }\n    }\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"relative flex flex-row w-full h-full overflow-hidden\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_cornerstone_viewport__WEBPACK_IMPORTED_MODULE_4___default.a, {\n    onElementEnabled: onElementEnabled,\n    viewportIndex: viewportIndex,\n    imageIds: imageIds,\n    imageIdIndex: currentImageIdIndex,\n    isActive: true // todo\n    ,\n    isStackPrefetchEnabled: true // todo\n    ,\n    isPlaying: false,\n    frameRate: 24,\n    isOverlayVisible: true // Sync resize throttle w/ sidepanel animation duration to prevent\n    // seizure inducing strobe blinking effect\n    ,\n    resizeRefreshRateMs: 150,\n    viewportOverlayComponent: function viewportOverlayComponent(props) {\n      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_ViewportOverlay__WEBPACK_IMPORTED_MODULE_8__[\"default\"], _extends({}, props, {\n        activeTools: ToolBarService.getActiveTools()\n      }));\n    }\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"absolute w-full\"\n  }, viewportDialogState.viewportIndex === viewportIndex && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_ohif_ui__WEBPACK_IMPORTED_MODULE_9__[\"Notification\"], {\n    message: viewportDialogState.message,\n    type: viewportDialogState.type,\n    actions: viewportDialogState.actions,\n    onSubmit: viewportDialogState.onSubmit,\n    onOutsideClick: viewportDialogState.onOutsideClick\n  })), childrenWithProps));\n}\n\n__signature__(OHIFCornerstoneSRViewport, \"useViewportGrid{[viewportGrid, viewportGridService]}\\nuseViewportDialog{[viewportDialogState, viewportDialogApi]}\\nuseState{[measurementSelected, setMeasurementSelected](0)}\\nuseState{[measurementCount, setMeasurementCount](1)}\\nuseState{[viewportData, setViewportData](null)}\\nuseState{[activeDisplaySetData, setActiveDisplaySetData]({})}\\nuseState{[element, setElement](null)}\\nuseState{[isHydrated, setIsHydrated](displaySet.isHydrated)}\\nuseEffect{}\\nuseTrackedMeasurements{}\\nuseEffect{}\\nuseEffect{}\\nuseCallback{setTrackingUniqueIdentifiersForElement}\\nuseEffect{}\\nuseCallback{updateViewport}\\nuseEffect{}\\nuseEffect{}\", function () {\n  return [_ohif_ui__WEBPACK_IMPORTED_MODULE_9__[\"useViewportGrid\"], _ohif_ui__WEBPACK_IMPORTED_MODULE_9__[\"useViewportDialog\"]];\n});\n\nvar _viewportLabels = ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I'];\nOHIFCornerstoneSRViewport.propTypes = {\n  displaySet: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.object.isRequired,\n  viewportIndex: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number.isRequired,\n  dataSource: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.object,\n  children: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.node,\n  customProps: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.object\n};\nOHIFCornerstoneSRViewport.defaultProps = {\n  customProps: {}\n};\n/**\n * Obtain the CornerstoneTools Stack for the specified display set.\n *\n * @param {Object} displaySet\n * @param {Object} dataSource\n * @return {Object} CornerstoneTools Stack\n */\n\nfunction _getCornerstoneStack(measurement, dataSource, DisplaySetService, element) {\n  var displaySetInstanceUID = measurement.displaySetInstanceUID,\n      TrackingUniqueIdentifier = measurement.TrackingUniqueIdentifier;\n  var displaySet = DisplaySetService.getDisplaySetByUID(displaySetInstanceUID); // Get stack from Stack Manager\n\n  var storedStack = StackManager.findOrCreateStack(displaySet, dataSource); // Clone the stack here so we don't mutate it\n\n  var stack = Object.assign({}, storedStack);\n  var imageId = measurement.imageId;\n  stack.currentImageIdIndex = stack.imageIds.findIndex(function (i) {\n    return i === imageId;\n  });\n\n  if (element) {\n    var srModule = cornerstone_tools__WEBPACK_IMPORTED_MODULE_2___default.a.getModule(_id__WEBPACK_IMPORTED_MODULE_12__[\"default\"]);\n    srModule.setters.activeTrackingUniqueIdentifierForElement(element, TrackingUniqueIdentifier);\n  }\n\n  return stack;\n}\n\nfunction _getViewportAndActiveDisplaySetData(_x, _x2, _x3, _x4, _x5) {\n  return _getViewportAndActiveDisplaySetData2.apply(this, arguments);\n}\n\nfunction _getViewportAndActiveDisplaySetData2() {\n  _getViewportAndActiveDisplaySetData2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(dataSource, displaySet, measurementSelected, DisplaySetService, element) {\n    var viewportData, measurements, measurement, stack, displaySetInstanceUID, referencedDisplaySet, image0, activeDisplaySetData;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            measurements = displaySet.measurements;\n            measurement = measurements[measurementSelected];\n            stack = _getCornerstoneStack(measurement, dataSource, DisplaySetService, element);\n            viewportData = {\n              StudyInstanceUID: displaySet.StudyInstanceUID,\n              displaySetInstanceUID: displaySet.displaySetInstanceUID,\n              stack: stack\n            };\n            displaySetInstanceUID = measurement.displaySetInstanceUID;\n            referencedDisplaySet = DisplaySetService.getDisplaySetByUID(displaySetInstanceUID);\n            image0 = referencedDisplaySet.images[0];\n            activeDisplaySetData = {\n              PatientID: image0.PatientID,\n              PatientName: image0.PatientName,\n              PatientSex: image0.PatientSex,\n              PatientAge: image0.PatientAge,\n              SliceThickness: image0.SliceThickness,\n              StudyDate: image0.StudyDate,\n              SeriesDescription: image0.SeriesDescription,\n              SeriesInstanceUID: image0.SeriesInstanceUID,\n              SeriesNumber: image0.SeriesNumber,\n              ManufacturerModelName: image0.ManufacturerModelName,\n              SpacingBetweenSlices: image0.SpacingBetweenSlices,\n              displaySetInstanceUID: displaySetInstanceUID\n            };\n            return _context.abrupt(\"return\", {\n              viewportData: viewportData,\n              activeDisplaySetData: activeDisplaySetData\n            });\n\n          case 9:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _getViewportAndActiveDisplaySetData2.apply(this, arguments);\n}\n\nfunction _onDoubleClick() {\n  var cancelActiveManipulatorsForElement = cornerstone_tools__WEBPACK_IMPORTED_MODULE_2___default.a.getModule('manipulatorState').setters.cancelActiveManipulatorsForElement;\n  var enabledElements = cornerstone_tools__WEBPACK_IMPORTED_MODULE_2___default.a.store.state.enabledElements;\n  enabledElements.forEach(function (element) {\n    cancelActiveManipulatorsForElement(element);\n  });\n}\n\nvar _default = OHIFCornerstoneSRViewport;\n/* harmony default export */ __webpack_exports__[\"default\"] = (_default);\n;\n\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(formatDate, \"formatDate\", \"C:\\\\src\\\\Viewers\\\\extensions\\\\dicom-sr\\\\src\\\\viewports\\\\OHIFCornerstoneSRViewport.js\");\n  reactHotLoader.register(scrollToIndex, \"scrollToIndex\", \"C:\\\\src\\\\Viewers\\\\extensions\\\\dicom-sr\\\\src\\\\viewports\\\\OHIFCornerstoneSRViewport.js\");\n  reactHotLoader.register(globalImageIdSpecificToolStateManager, \"globalImageIdSpecificToolStateManager\", \"C:\\\\src\\\\Viewers\\\\extensions\\\\dicom-sr\\\\src\\\\viewports\\\\OHIFCornerstoneSRViewport.js\");\n  reactHotLoader.register(StackManager, \"StackManager\", \"C:\\\\src\\\\Viewers\\\\extensions\\\\dicom-sr\\\\src\\\\viewports\\\\OHIFCornerstoneSRViewport.js\");\n  reactHotLoader.register(guid, \"guid\", \"C:\\\\src\\\\Viewers\\\\extensions\\\\dicom-sr\\\\src\\\\viewports\\\\OHIFCornerstoneSRViewport.js\");\n  reactHotLoader.register(MEASUREMENT_TRACKING_EXTENSION_ID, \"MEASUREMENT_TRACKING_EXTENSION_ID\", \"C:\\\\src\\\\Viewers\\\\extensions\\\\dicom-sr\\\\src\\\\viewports\\\\OHIFCornerstoneSRViewport.js\");\n  reactHotLoader.register(OHIFCornerstoneSRViewport, \"OHIFCornerstoneSRViewport\", \"C:\\\\src\\\\Viewers\\\\extensions\\\\dicom-sr\\\\src\\\\viewports\\\\OHIFCornerstoneSRViewport.js\");\n  reactHotLoader.register(_viewportLabels, \"_viewportLabels\", \"C:\\\\src\\\\Viewers\\\\extensions\\\\dicom-sr\\\\src\\\\viewports\\\\OHIFCornerstoneSRViewport.js\");\n  reactHotLoader.register(_getCornerstoneStack, \"_getCornerstoneStack\", \"C:\\\\src\\\\Viewers\\\\extensions\\\\dicom-sr\\\\src\\\\viewports\\\\OHIFCornerstoneSRViewport.js\");\n  reactHotLoader.register(_getViewportAndActiveDisplaySetData, \"_getViewportAndActiveDisplaySetData\", \"C:\\\\src\\\\Viewers\\\\extensions\\\\dicom-sr\\\\src\\\\viewports\\\\OHIFCornerstoneSRViewport.js\");\n  reactHotLoader.register(_onDoubleClick, \"_onDoubleClick\", \"C:\\\\src\\\\Viewers\\\\extensions\\\\dicom-sr\\\\src\\\\viewports\\\\OHIFCornerstoneSRViewport.js\");\n  reactHotLoader.register(_default, \"default\", \"C:\\\\src\\\\Viewers\\\\extensions\\\\dicom-sr\\\\src\\\\viewports\\\\OHIFCornerstoneSRViewport.js\");\n})();\n\n;\n\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../../node_modules/webpack/buildin/harmony-module.js */ \"../../../node_modules/webpack/buildin/harmony-module.js\")(module)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vZXh0ZW5zaW9ucy9kaWNvbS1zci9zcmMvdmlld3BvcnRzL09ISUZDb3JuZXJzdG9uZVNSVmlld3BvcnQuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vQzovc3JjL1ZpZXdlcnMvZXh0ZW5zaW9ucy9kaWNvbS1zci9zcmMvdmlld3BvcnRzL09ISUZDb3JuZXJzdG9uZVNSVmlld3BvcnQuanM/YmFiNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlQ2FsbGJhY2ssIHVzZUNvbnRleHQsIHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IGNvcm5lcnN0b25lVG9vbHMgZnJvbSAnY29ybmVyc3RvbmUtdG9vbHMnO1xuaW1wb3J0IGNvcm5lcnN0b25lIGZyb20gJ2Nvcm5lcnN0b25lLWNvcmUnO1xuaW1wb3J0IENvcm5lcnN0b25lVmlld3BvcnQgZnJvbSAncmVhY3QtY29ybmVyc3RvbmUtdmlld3BvcnQnO1xuaW1wb3J0IE9ISUYsIHsgRGljb21NZXRhZGF0YVN0b3JlLCB1dGlscyB9IGZyb20gJ0BvaGlmL2NvcmUnO1xuaW1wb3J0IERJQ09NU1JEaXNwbGF5VG9vbCBmcm9tICcuLy4uL3Rvb2xzL0RJQ09NU1JEaXNwbGF5VG9vbCc7XG5pbXBvcnQgVmlld3BvcnRPdmVybGF5IGZyb20gJy4vVmlld3BvcnRPdmVybGF5JztcbmltcG9ydCB7XG4gIE5vdGlmaWNhdGlvbixcbiAgVmlld3BvcnRBY3Rpb25CYXIsXG4gIHVzZVZpZXdwb3J0R3JpZCxcbiAgdXNlVmlld3BvcnREaWFsb2csXG59IGZyb20gJ0BvaGlmL3VpJztcbmltcG9ydCBUT09MX05BTUVTIGZyb20gJy4vLi4vY29uc3RhbnRzL3Rvb2xOYW1lcyc7XG5pbXBvcnQgeyBhZGFwdGVycyB9IGZyb20gJ2RjbWpzJztcbmltcG9ydCBpZCBmcm9tICcuLy4uL2lkJztcblxuY29uc3QgeyBmb3JtYXREYXRlIH0gPSB1dGlscztcbmNvbnN0IHNjcm9sbFRvSW5kZXggPSBjb3JuZXJzdG9uZVRvb2xzLmltcG9ydEludGVybmFsKCd1dGlsL3Njcm9sbFRvSW5kZXgnKTtcbmNvbnN0IGdsb2JhbEltYWdlSWRTcGVjaWZpY1Rvb2xTdGF0ZU1hbmFnZXIgPVxuICBjb3JuZXJzdG9uZVRvb2xzLmdsb2JhbEltYWdlSWRTcGVjaWZpY1Rvb2xTdGF0ZU1hbmFnZXI7XG5cbmNvbnN0IHsgU3RhY2tNYW5hZ2VyLCBndWlkIH0gPSBPSElGLnV0aWxzO1xuXG5jb25zdCBNRUFTVVJFTUVOVF9UUkFDS0lOR19FWFRFTlNJT05fSUQgPSAnb3JnLm9oaWYubWVhc3VyZW1lbnQtdHJhY2tpbmcnO1xuXG5mdW5jdGlvbiBPSElGQ29ybmVyc3RvbmVTUlZpZXdwb3J0KHtcbiAgY2hpbGRyZW4sXG4gIGRhdGFTb3VyY2UsXG4gIGRpc3BsYXlTZXQsXG4gIHZpZXdwb3J0SW5kZXgsXG4gIHNlcnZpY2VzTWFuYWdlcixcbiAgZXh0ZW5zaW9uTWFuYWdlcixcbn0pIHtcbiAgY29uc3Qge1xuICAgIERpc3BsYXlTZXRTZXJ2aWNlLFxuICAgIE1lYXN1cmVtZW50U2VydmljZSxcbiAgICBUb29sQmFyU2VydmljZSxcbiAgfSA9IHNlcnZpY2VzTWFuYWdlci5zZXJ2aWNlcztcbiAgY29uc3QgW3ZpZXdwb3J0R3JpZCwgdmlld3BvcnRHcmlkU2VydmljZV0gPSB1c2VWaWV3cG9ydEdyaWQoKTtcbiAgY29uc3QgW3ZpZXdwb3J0RGlhbG9nU3RhdGUsIHZpZXdwb3J0RGlhbG9nQXBpXSA9IHVzZVZpZXdwb3J0RGlhbG9nKCk7XG4gIGNvbnN0IFttZWFzdXJlbWVudFNlbGVjdGVkLCBzZXRNZWFzdXJlbWVudFNlbGVjdGVkXSA9IHVzZVN0YXRlKDApO1xuICBjb25zdCBbbWVhc3VyZW1lbnRDb3VudCwgc2V0TWVhc3VyZW1lbnRDb3VudF0gPSB1c2VTdGF0ZSgxKTtcbiAgY29uc3QgW3ZpZXdwb3J0RGF0YSwgc2V0Vmlld3BvcnREYXRhXSA9IHVzZVN0YXRlKG51bGwpO1xuICBjb25zdCBbYWN0aXZlRGlzcGxheVNldERhdGEsIHNldEFjdGl2ZURpc3BsYXlTZXREYXRhXSA9IHVzZVN0YXRlKHt9KTtcbiAgY29uc3QgW2VsZW1lbnQsIHNldEVsZW1lbnRdID0gdXNlU3RhdGUobnVsbCk7XG4gIGNvbnN0IFtpc0h5ZHJhdGVkLCBzZXRJc0h5ZHJhdGVkXSA9IHVzZVN0YXRlKGRpc3BsYXlTZXQuaXNIeWRyYXRlZCk7XG4gIGNvbnN0IHsgdmlld3BvcnRzLCBhY3RpdmVWaWV3cG9ydEluZGV4IH0gPSB2aWV3cG9ydEdyaWQ7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBvbkRpc3BsYXlTZXRzUmVtb3ZlZFN1YnNjcmlwdGlvbiA9IERpc3BsYXlTZXRTZXJ2aWNlLnN1YnNjcmliZShcbiAgICAgIERpc3BsYXlTZXRTZXJ2aWNlLkVWRU5UUy5ESVNQTEFZX1NFVFNfUkVNT1ZFRCxcbiAgICAgICh7IGRpc3BsYXlTZXRJbnN0YW5jZVVJRHMgfSkgPT4ge1xuICAgICAgICBjb25zdCBhY3RpdmVWaWV3cG9ydCA9IHZpZXdwb3J0c1thY3RpdmVWaWV3cG9ydEluZGV4XTtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIGRpc3BsYXlTZXRJbnN0YW5jZVVJRHMuaW5jbHVkZXMoYWN0aXZlVmlld3BvcnQuZGlzcGxheVNldEluc3RhbmNlVUlEKVxuICAgICAgICApIHtcbiAgICAgICAgICB2aWV3cG9ydEdyaWRTZXJ2aWNlLnNldERpc3BsYXlzZXRGb3JWaWV3cG9ydCh7XG4gICAgICAgICAgICB2aWV3cG9ydEluZGV4OiBhY3RpdmVWaWV3cG9ydEluZGV4LFxuICAgICAgICAgICAgZGlzcGxheVNldEluc3RhbmNlVUlEOiB1bmRlZmluZWQsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICApO1xuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIG9uRGlzcGxheVNldHNSZW1vdmVkU3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgfTtcbiAgfSwgW10pO1xuXG4gIC8vIE9wdGlvbmFsIGhvb2sgaW50byB0cmFja2luZyBleHRlbnNpb24sIGlmIHByZXNlbnQuXG4gIGxldCB0cmFja2VkTWVhc3VyZW1lbnRzO1xuICBsZXQgc2VuZFRyYWNrZWRNZWFzdXJlbWVudHNFdmVudDtcblxuICAvLyBUT0RPOiB0aGlzIGlzIGEgaG9vayB0aGF0IGZhaWxzIGlmIHdlIHJlZ2lzdGVyL2RlLXJlZ2lzdGVyXG4gIC8vXG4gIGlmIChcbiAgICBleHRlbnNpb25NYW5hZ2VyLnJlZ2lzdGVyZWRFeHRlbnNpb25JZHMuaW5jbHVkZXMoXG4gICAgICBNRUFTVVJFTUVOVF9UUkFDS0lOR19FWFRFTlNJT05fSURcbiAgICApXG4gICkge1xuICAgIGNvbnN0IGNvbnRleHRNb2R1bGUgPSBleHRlbnNpb25NYW5hZ2VyLmdldE1vZHVsZUVudHJ5KFxuICAgICAgJ29yZy5vaGlmLm1lYXN1cmVtZW50LXRyYWNraW5nLmNvbnRleHRNb2R1bGUuVHJhY2tlZE1lYXN1cmVtZW50c0NvbnRleHQnXG4gICAgKTtcblxuICAgIGNvbnN0IHVzZVRyYWNrZWRNZWFzdXJlbWVudHMgPSAoKSA9PiB1c2VDb250ZXh0KGNvbnRleHRNb2R1bGUuY29udGV4dCk7XG5cbiAgICBbXG4gICAgICB0cmFja2VkTWVhc3VyZW1lbnRzLFxuICAgICAgc2VuZFRyYWNrZWRNZWFzdXJlbWVudHNFdmVudCxcbiAgICBdID0gdXNlVHJhY2tlZE1lYXN1cmVtZW50cygpO1xuICB9XG5cbiAgLy8gTG9ja2VkIGlmIHRyYWNraW5nIGFueSBzZXJpZXNcbiAgbGV0IGlzTG9ja2VkID0gdHJhY2tlZE1lYXN1cmVtZW50cz8uY29udGV4dD8udHJhY2tlZFNlcmllcz8ubGVuZ3RoID4gMDtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpc0xvY2tlZCA9IHRyYWNrZWRNZWFzdXJlbWVudHM/LmNvbnRleHQ/LnRyYWNrZWRTZXJpZXM/Lmxlbmd0aCA+IDA7XG4gIH0sIFt0cmFja2VkTWVhc3VyZW1lbnRzXSk7XG5cbiAgZnVuY3Rpb24gX2dldFRvb2xBbGlhcygpIHtcbiAgICBjb25zdCBwcmltYXJ5VG9vbElkID0gVG9vbEJhclNlcnZpY2Uuc3RhdGUucHJpbWFyeVRvb2xJZDtcbiAgICBsZXQgdG9vbEFsaWFzID0gcHJpbWFyeVRvb2xJZDtcblxuICAgIHN3aXRjaCAocHJpbWFyeVRvb2xJZCkge1xuICAgICAgY2FzZSAnTGVuZ3RoJzpcbiAgICAgICAgdG9vbEFsaWFzID0gJ1NSTGVuZ3RoJztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdCaWRpcmVjdGlvbmFsJzpcbiAgICAgICAgdG9vbEFsaWFzID0gJ1NSQmlkaXJlY3Rpb25hbCc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnQXJyb3dBbm5vdGF0ZSc6XG4gICAgICAgIHRvb2xBbGlhcyA9ICdTUkFycm93QW5ub3RhdGUnO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ0VsbGlwdGljYWxSb2knOlxuICAgICAgICB0b29sQWxpYXMgPSAnU1JFbGxpcHRpY2FsUm9pJztcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRvb2xBbGlhcztcbiAgfVxuXG4gIGNvbnN0IG9uRWxlbWVudEVuYWJsZWQgPSBldnQgPT4ge1xuICAgIGNvbnN0IGV2ZW50RGF0YSA9IGV2dC5kZXRhaWw7XG4gICAgY29uc3QgdGFyZ2V0RWxlbWVudCA9IGV2ZW50RGF0YS5lbGVtZW50O1xuICAgIGNvbnN0IHRvb2xBbGlhcyA9IF9nZXRUb29sQWxpYXMoKTsgLy8gVGhlc2UgYXJlIDE6MSBmb3IgYnVpbHQtaW4gb25seVxuXG4gICAgLy8gfn4gTUFHSUNcbiAgICBjb3JuZXJzdG9uZVRvb2xzLmFkZFRvb2xGb3JFbGVtZW50KHRhcmdldEVsZW1lbnQsIERJQ09NU1JEaXNwbGF5VG9vbCk7XG4gICAgY29ybmVyc3RvbmVUb29scy5zZXRUb29sRW5hYmxlZEZvckVsZW1lbnQoXG4gICAgICB0YXJnZXRFbGVtZW50LFxuICAgICAgVE9PTF9OQU1FUy5ESUNPTV9TUl9ESVNQTEFZX1RPT0xcbiAgICApO1xuXG4gICAgLy8gfn4gVmFyaWFudHNcbiAgICBjb3JuZXJzdG9uZVRvb2xzLmFkZFRvb2xGb3JFbGVtZW50KFxuICAgICAgdGFyZ2V0RWxlbWVudCxcbiAgICAgIGNvcm5lcnN0b25lVG9vbHMuTGVuZ3RoVG9vbCxcbiAgICAgIHtcbiAgICAgICAgbmFtZTogJ1NSTGVuZ3RoJyxcbiAgICAgICAgY29uZmlndXJhdGlvbjoge1xuICAgICAgICAgIHJlbmRlckRhc2hlZDogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICAgIH1cbiAgICApO1xuICAgIGNvcm5lcnN0b25lVG9vbHMuYWRkVG9vbEZvckVsZW1lbnQoXG4gICAgICB0YXJnZXRFbGVtZW50LFxuICAgICAgY29ybmVyc3RvbmVUb29scy5BcnJvd0Fubm90YXRlVG9vbCxcbiAgICAgIHtcbiAgICAgICAgbmFtZTogJ1NSQXJyb3dBbm5vdGF0ZScsXG4gICAgICAgIGNvbmZpZ3VyYXRpb246IHtcbiAgICAgICAgICByZW5kZXJEYXNoZWQ6IHRydWUsXG4gICAgICAgIH0sXG4gICAgICB9XG4gICAgKTtcbiAgICBjb3JuZXJzdG9uZVRvb2xzLmFkZFRvb2xGb3JFbGVtZW50KFxuICAgICAgdGFyZ2V0RWxlbWVudCxcbiAgICAgIGNvcm5lcnN0b25lVG9vbHMuQmlkaXJlY3Rpb25hbFRvb2wsXG4gICAgICB7XG4gICAgICAgIG5hbWU6ICdTUkJpZGlyZWN0aW9uYWwnLFxuICAgICAgICBjb25maWd1cmF0aW9uOiB7XG4gICAgICAgICAgcmVuZGVyRGFzaGVkOiB0cnVlLFxuICAgICAgICB9LFxuICAgICAgfVxuICAgICk7XG4gICAgY29ybmVyc3RvbmVUb29scy5hZGRUb29sRm9yRWxlbWVudChcbiAgICAgIHRhcmdldEVsZW1lbnQsXG4gICAgICBjb3JuZXJzdG9uZVRvb2xzLkVsbGlwdGljYWxSb2lUb29sLFxuICAgICAge1xuICAgICAgICBuYW1lOiAnU1JFbGxpcHRpY2FsUm9pJyxcbiAgICAgICAgY29uZmlndXJhdGlvbjoge1xuICAgICAgICAgIHJlbmRlckRhc2hlZDogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICAgIH1cbiAgICApO1xuXG4gICAgLy8gfn4gQnVzaW5lc3MgYXMgdXN1YWxcbiAgICBjb3JuZXJzdG9uZVRvb2xzLnNldFRvb2xBY3RpdmVGb3JFbGVtZW50KHRhcmdldEVsZW1lbnQsICdQYW5NdWx0aVRvdWNoJywge1xuICAgICAgcG9pbnRlcnM6IDIsXG4gICAgfSk7XG4gICAgY29ybmVyc3RvbmVUb29scy5zZXRUb29sQWN0aXZlRm9yRWxlbWVudChcbiAgICAgIHRhcmdldEVsZW1lbnQsXG4gICAgICAnWm9vbVRvdWNoUGluY2gnLFxuICAgICAge31cbiAgICApO1xuXG4gICAgLy8gVE9ETzogQWRkIGFsd2F5cyBkYXNoZWQgdG9vbCBhbHRlcm5hdGl2ZSBhbGlhc2VzXG4gICAgLy8gVE9ETzogb3Igc2FtZSBuYW1lLi4uIGFsdGVybmF0aXZlIGNvbmZpZz9cbiAgICBjb3JuZXJzdG9uZVRvb2xzLnNldFRvb2xBY3RpdmVGb3JFbGVtZW50KHRhcmdldEVsZW1lbnQsIHRvb2xBbGlhcywge1xuICAgICAgbW91c2VCdXR0b25NYXNrOiAxLFxuICAgIH0pO1xuICAgIGNvcm5lcnN0b25lVG9vbHMuc2V0VG9vbEFjdGl2ZUZvckVsZW1lbnQodGFyZ2V0RWxlbWVudCwgJ1BhbicsIHtcbiAgICAgIG1vdXNlQnV0dG9uTWFzazogNCxcbiAgICB9KTtcbiAgICBjb3JuZXJzdG9uZVRvb2xzLnNldFRvb2xBY3RpdmVGb3JFbGVtZW50KHRhcmdldEVsZW1lbnQsICdab29tJywge1xuICAgICAgbW91c2VCdXR0b25NYXNrOiAyLFxuICAgIH0pO1xuICAgIGNvcm5lcnN0b25lVG9vbHMuc2V0VG9vbEFjdGl2ZUZvckVsZW1lbnQoXG4gICAgICB0YXJnZXRFbGVtZW50LFxuICAgICAgJ1N0YWNrU2Nyb2xsTW91c2VXaGVlbCcsXG4gICAgICB7fVxuICAgICk7XG5cbiAgICBzZXRUcmFja2luZ1VuaXF1ZUlkZW50aWZpZXJzRm9yRWxlbWVudCh0YXJnZXRFbGVtZW50KTtcbiAgICBzZXRFbGVtZW50KHRhcmdldEVsZW1lbnQpO1xuXG4gICAgLy8gVE9ETzogRW5hYmxlZCBFbGVtZW50IGFwcGVhcnMgdG8gYmUgaW5jb3JyZWN0IGhlcmUsIGl0IHNob3VsZCBiZSBjYWxsZWRcbiAgICAvLyAnZWxlbWVudCcgc2luY2UgaXQgaXMgdGhlIERPTSBlbGVtZW50LCBub3QgdGhlIGVuYWJsZWRFbGVtZW50IG9iamVjdFxuICAgIGNvbnN0IE9ISUZDb3JuZXJzdG9uZUVuYWJsZWRFbGVtZW50RXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQoXG4gICAgICAnb2hpZi1jb3JuZXJzdG9uZS1lbmFibGVkLWVsZW1lbnQtZXZlbnQnLFxuICAgICAge1xuICAgICAgICBkZXRhaWw6IHtcbiAgICAgICAgICBjb250ZXh0OiAnQUNUSVZFX1ZJRVdQT1JUOjpTVFJVQ1RVUkVEX1JFUE9SVCcsXG4gICAgICAgICAgZW5hYmxlZEVsZW1lbnQ6IHRhcmdldEVsZW1lbnQsXG4gICAgICAgICAgdmlld3BvcnRJbmRleCxcbiAgICAgICAgfSxcbiAgICAgIH1cbiAgICApO1xuXG4gICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChPSElGQ29ybmVyc3RvbmVFbmFibGVkRWxlbWVudEV2ZW50KTtcbiAgfTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghZGlzcGxheVNldC5pc0xvYWRlZCkge1xuICAgICAgZGlzcGxheVNldC5sb2FkKCk7XG4gICAgfVxuICAgIHNldElzSHlkcmF0ZWQoZGlzcGxheVNldC5pc0h5ZHJhdGVkKTtcbiAgfSwgW2Rpc3BsYXlTZXRdKTtcblxuICBjb25zdCBzZXRUcmFja2luZ1VuaXF1ZUlkZW50aWZpZXJzRm9yRWxlbWVudCA9IHVzZUNhbGxiYWNrKHRhcmdldEVsZW1lbnQgPT4ge1xuICAgIGNvbnN0IHsgbWVhc3VyZW1lbnRzIH0gPSBkaXNwbGF5U2V0O1xuXG4gICAgY29uc3Qgc3JNb2R1bGUgPSBjb3JuZXJzdG9uZVRvb2xzLmdldE1vZHVsZShpZCk7XG5cbiAgICBzck1vZHVsZS5zZXR0ZXJzLnRyYWNraW5nVW5pcXVlSWRlbnRpZmllcnNGb3JFbGVtZW50KFxuICAgICAgdGFyZ2V0RWxlbWVudCxcbiAgICAgIG1lYXN1cmVtZW50cy5tYXAobWVhc3VyZW1lbnQgPT4gbWVhc3VyZW1lbnQuVHJhY2tpbmdVbmlxdWVJZGVudGlmaWVyKSxcbiAgICAgIG1lYXN1cmVtZW50U2VsZWN0ZWRcbiAgICApO1xuICB9KTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IG51bU1lYXN1cmVtZW50cyA9IGRpc3BsYXlTZXQubWVhc3VyZW1lbnRzLmxlbmd0aDtcblxuICAgIHNldE1lYXN1cmVtZW50Q291bnQobnVtTWVhc3VyZW1lbnRzKTtcbiAgfSwgW2RhdGFTb3VyY2UsIGRpc3BsYXlTZXRdKTtcblxuICBjb25zdCB1cGRhdGVWaWV3cG9ydCA9IHVzZUNhbGxiYWNrKG5ld01lYXN1cmVtZW50U2VsZWN0ZWQgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIFN0dWR5SW5zdGFuY2VVSUQsXG4gICAgICBkaXNwbGF5U2V0SW5zdGFuY2VVSUQsXG4gICAgICBzb3BDbGFzc1VpZHMsXG4gICAgfSA9IGRpc3BsYXlTZXQ7XG5cbiAgICBpZiAoIVN0dWR5SW5zdGFuY2VVSUQgfHwgIWRpc3BsYXlTZXRJbnN0YW5jZVVJRCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChzb3BDbGFzc1VpZHMgJiYgc29wQ2xhc3NVaWRzLmxlbmd0aCA+IDEpIHtcbiAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgJ01vcmUgdGhhbiBvbmUgU09QQ2xhc3NVSUQgaW4gdGhlIHNhbWUgc2VyaWVzIGlzIG5vdCB5ZXQgc3VwcG9ydGVkLidcbiAgICAgICk7XG4gICAgfVxuXG4gICAgX2dldFZpZXdwb3J0QW5kQWN0aXZlRGlzcGxheVNldERhdGEoXG4gICAgICBkYXRhU291cmNlLFxuICAgICAgZGlzcGxheVNldCxcbiAgICAgIG5ld01lYXN1cmVtZW50U2VsZWN0ZWQsXG4gICAgICBEaXNwbGF5U2V0U2VydmljZSxcbiAgICAgIGVsZW1lbnRcbiAgICApLnRoZW4oKHsgdmlld3BvcnREYXRhLCBhY3RpdmVEaXNwbGF5U2V0RGF0YSB9KSA9PiB7XG4gICAgICBzZXRWaWV3cG9ydERhdGEoeyAuLi52aWV3cG9ydERhdGEgfSk7XG4gICAgICBzZXRBY3RpdmVEaXNwbGF5U2V0RGF0YSh7IC4uLmFjdGl2ZURpc3BsYXlTZXREYXRhIH0pO1xuICAgICAgc2V0TWVhc3VyZW1lbnRTZWxlY3RlZChuZXdNZWFzdXJlbWVudFNlbGVjdGVkKTtcblxuICAgICAgaWYgKGVsZW1lbnQgIT09IG51bGwpIHtcbiAgICAgICAgc2Nyb2xsVG9JbmRleChlbGVtZW50LCB2aWV3cG9ydERhdGEuc3RhY2suY3VycmVudEltYWdlSWRJbmRleCk7XG4gICAgICAgIGNvcm5lcnN0b25lLnVwZGF0ZUltYWdlKGVsZW1lbnQpO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcblxuICB1c2VFZmZlY3QoXG4gICAgKCkgPT4ge1xuICAgICAgaWYgKGVsZW1lbnQgIT09IG51bGwpIHtcbiAgICAgICAgc2V0VHJhY2tpbmdVbmlxdWVJZGVudGlmaWVyc0ZvckVsZW1lbnQoZWxlbWVudCk7XG4gICAgICB9XG4gICAgfSxcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzXG4gICAgW2RhdGFTb3VyY2UsIGRpc3BsYXlTZXRdXG4gICk7XG5cbiAgdXNlRWZmZWN0KFxuICAgICgpID0+IHtcbiAgICAgIHVwZGF0ZVZpZXdwb3J0KG1lYXN1cmVtZW50U2VsZWN0ZWQpO1xuICAgIH0sXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwc1xuICAgIFtkYXRhU291cmNlLCBkaXNwbGF5U2V0LCBlbGVtZW50XVxuICApO1xuXG4gIGNvbnN0IGZpcnN0Vmlld3BvcnRJbmRleFdpdGhNYXRjaGluZ0Rpc3BsYXlTZXRVaWQgPSB2aWV3cG9ydHMuZmluZEluZGV4KFxuICAgIHZwID0+IHZwLmRpc3BsYXlTZXRJbnN0YW5jZVVJRCA9PT0gZGlzcGxheVNldC5kaXNwbGF5U2V0SW5zdGFuY2VVSURcbiAgKTtcblxuICAvLyB+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+flxuICBsZXQgY2hpbGRyZW5XaXRoUHJvcHMgPSBudWxsO1xuXG4gIGlmICghdmlld3BvcnREYXRhKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBjb25zdCB7XG4gICAgaW1hZ2VJZHMsXG4gICAgY3VycmVudEltYWdlSWRJbmRleCxcbiAgICAvLyBJZiB0aGlzIGNvbWVzIGZyb20gdGhlIGluc3RhbmNlLCB3b3VsZCBiZSBhIGJldHRlciBkZWZhdWx0XG4gICAgLy8gYEZyYW1lVGltZWAgaW4gdGhlIGluc3RhbmNlXG4gICAgLy8gZnJhbWVSYXRlID0gMCxcbiAgfSA9IHZpZXdwb3J0RGF0YS5zdGFjaztcblxuICBpZiAoY2hpbGRyZW4gJiYgY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgY2hpbGRyZW5XaXRoUHJvcHMgPSBjaGlsZHJlbi5tYXAoKGNoaWxkLCBpbmRleCkgPT4ge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgY2hpbGQgJiZcbiAgICAgICAgUmVhY3QuY2xvbmVFbGVtZW50KGNoaWxkLCB7XG4gICAgICAgICAgdmlld3BvcnRJbmRleCxcbiAgICAgICAgICBrZXk6IGluZGV4LFxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9KTtcbiAgfVxuXG4gIGNvbnN0IHsgTW9kYWxpdHkgfSA9IGRpc3BsYXlTZXQ7XG5cbiAgY29uc3Qge1xuICAgIFBhdGllbnRJRCxcbiAgICBQYXRpZW50TmFtZSxcbiAgICBQYXRpZW50U2V4LFxuICAgIFBhdGllbnRBZ2UsXG4gICAgU2xpY2VUaGlja25lc3MsXG4gICAgTWFudWZhY3R1cmVyTW9kZWxOYW1lLFxuICAgIFN0dWR5RGF0ZSxcbiAgICBTZXJpZXNEZXNjcmlwdGlvbixcbiAgICBTZXJpZXNJbnN0YW5jZVVJRCxcbiAgICBTcGFjaW5nQmV0d2VlblNsaWNlcyxcbiAgICBTZXJpZXNOdW1iZXIsXG4gICAgZGlzcGxheVNldEluc3RhbmNlVUlELFxuICB9ID0gYWN0aXZlRGlzcGxheVNldERhdGE7XG5cbiAgY29uc3Qgb25NZWFzdXJlbWVudENoYW5nZSA9IGRpcmVjdGlvbiA9PiB7XG4gICAgbGV0IG5ld01lYXN1cmVtZW50U2VsZWN0ZWQgPSBtZWFzdXJlbWVudFNlbGVjdGVkO1xuXG4gICAgaWYgKGRpcmVjdGlvbiA9PT0gJ3JpZ2h0Jykge1xuICAgICAgbmV3TWVhc3VyZW1lbnRTZWxlY3RlZCsrO1xuXG4gICAgICBpZiAobmV3TWVhc3VyZW1lbnRTZWxlY3RlZCA+PSBtZWFzdXJlbWVudENvdW50KSB7XG4gICAgICAgIG5ld01lYXN1cmVtZW50U2VsZWN0ZWQgPSAwO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBuZXdNZWFzdXJlbWVudFNlbGVjdGVkLS07XG5cbiAgICAgIGlmIChuZXdNZWFzdXJlbWVudFNlbGVjdGVkIDwgMCkge1xuICAgICAgICBuZXdNZWFzdXJlbWVudFNlbGVjdGVkID0gbWVhc3VyZW1lbnRDb3VudCAtIDE7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdXBkYXRlVmlld3BvcnQobmV3TWVhc3VyZW1lbnRTZWxlY3RlZCk7XG4gIH07XG5cbiAgY29uc3QgbGFiZWwgPSB2aWV3cG9ydHMubGVuZ3RoID4gMSA/IF92aWV3cG9ydExhYmVsc1t2aWV3cG9ydEluZGV4XSA6ICcnO1xuXG4gIC8vIFRPRE8gLT4gZGlzYWJsZWQgZG91YmxlIGNsaWNrIGZvciBub3c6IG9uRG91YmxlQ2xpY2s9e19vbkRvdWJsZUNsaWNrfVxuICByZXR1cm4gKFxuICAgIDw+XG4gICAgICA8Vmlld3BvcnRBY3Rpb25CYXJcbiAgICAgICAgb25Eb3VibGVDbGljaz17ZXZ0ID0+IHtcbiAgICAgICAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH19XG4gICAgICAgIG9uUGlsbENsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgc2VuZFRyYWNrZWRNZWFzdXJlbWVudHNFdmVudCgnUFJPTVBUX0hZRFJBVEVfU1InLCB7XG4gICAgICAgICAgICBkaXNwbGF5U2V0SW5zdGFuY2VVSUQ6IGRpc3BsYXlTZXQuZGlzcGxheVNldEluc3RhbmNlVUlELFxuICAgICAgICAgICAgdmlld3BvcnRJbmRleCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfX1cbiAgICAgICAgb25TZXJpZXNDaGFuZ2U9e29uTWVhc3VyZW1lbnRDaGFuZ2V9XG4gICAgICAgIHN0dWR5RGF0YT17e1xuICAgICAgICAgIGxhYmVsLFxuICAgICAgICAgIHVzZUFsdFN0eWxpbmc6IHRydWUsXG4gICAgICAgICAgaXNUcmFja2VkOiBmYWxzZSxcbiAgICAgICAgICBpc0xvY2tlZCxcbiAgICAgICAgICBpc1JlaHlkcmF0YWJsZTogZGlzcGxheVNldC5pc1JlaHlkcmF0YWJsZSxcbiAgICAgICAgICBpc0h5ZHJhdGVkLFxuICAgICAgICAgIHN0dWR5RGF0ZTogZm9ybWF0RGF0ZShTdHVkeURhdGUpLFxuICAgICAgICAgIGN1cnJlbnRTZXJpZXM6IFNlcmllc051bWJlcixcbiAgICAgICAgICBzZXJpZXNEZXNjcmlwdGlvbjogU2VyaWVzRGVzY3JpcHRpb24sXG4gICAgICAgICAgbW9kYWxpdHk6IE1vZGFsaXR5LFxuICAgICAgICAgIHBhdGllbnRJbmZvcm1hdGlvbjoge1xuICAgICAgICAgICAgcGF0aWVudE5hbWU6IFBhdGllbnROYW1lXG4gICAgICAgICAgICAgID8gT0hJRi51dGlscy5mb3JtYXRQTihQYXRpZW50TmFtZS5BbHBoYWJldGljKVxuICAgICAgICAgICAgICA6ICcnLFxuICAgICAgICAgICAgcGF0aWVudFNleDogUGF0aWVudFNleCB8fCAnJyxcbiAgICAgICAgICAgIHBhdGllbnRBZ2U6IFBhdGllbnRBZ2UgfHwgJycsXG4gICAgICAgICAgICBNUk46IFBhdGllbnRJRCB8fCAnJyxcbiAgICAgICAgICAgIHRoaWNrbmVzczogU2xpY2VUaGlja25lc3MgPyBgJHtTbGljZVRoaWNrbmVzcy50b0ZpeGVkKDIpfW1tYCA6ICcnLFxuICAgICAgICAgICAgc3BhY2luZzpcbiAgICAgICAgICAgICAgU3BhY2luZ0JldHdlZW5TbGljZXMgIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgID8gYCR7U3BhY2luZ0JldHdlZW5TbGljZXMudG9GaXhlZCgyKX1tbWBcbiAgICAgICAgICAgICAgICA6ICcnLFxuICAgICAgICAgICAgc2Nhbm5lcjogTWFudWZhY3R1cmVyTW9kZWxOYW1lIHx8ICcnLFxuICAgICAgICAgIH0sXG4gICAgICAgIH19XG4gICAgICAvPlxuXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlIGZsZXggZmxleC1yb3cgdy1mdWxsIGgtZnVsbCBvdmVyZmxvdy1oaWRkZW5cIj5cbiAgICAgICAgPENvcm5lcnN0b25lVmlld3BvcnRcbiAgICAgICAgICBvbkVsZW1lbnRFbmFibGVkPXtvbkVsZW1lbnRFbmFibGVkfVxuICAgICAgICAgIHZpZXdwb3J0SW5kZXg9e3ZpZXdwb3J0SW5kZXh9XG4gICAgICAgICAgaW1hZ2VJZHM9e2ltYWdlSWRzfVxuICAgICAgICAgIGltYWdlSWRJbmRleD17Y3VycmVudEltYWdlSWRJbmRleH1cbiAgICAgICAgICBpc0FjdGl2ZT17dHJ1ZX0gLy8gdG9kb1xuICAgICAgICAgIGlzU3RhY2tQcmVmZXRjaEVuYWJsZWQ9e3RydWV9IC8vIHRvZG9cbiAgICAgICAgICBpc1BsYXlpbmc9e2ZhbHNlfVxuICAgICAgICAgIGZyYW1lUmF0ZT17MjR9XG4gICAgICAgICAgaXNPdmVybGF5VmlzaWJsZT17dHJ1ZX1cbiAgICAgICAgICAvLyBTeW5jIHJlc2l6ZSB0aHJvdHRsZSB3LyBzaWRlcGFuZWwgYW5pbWF0aW9uIGR1cmF0aW9uIHRvIHByZXZlbnRcbiAgICAgICAgICAvLyBzZWl6dXJlIGluZHVjaW5nIHN0cm9iZSBibGlua2luZyBlZmZlY3RcbiAgICAgICAgICByZXNpemVSZWZyZXNoUmF0ZU1zPXsxNTB9XG4gICAgICAgICAgdmlld3BvcnRPdmVybGF5Q29tcG9uZW50PXtwcm9wcyA9PiB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICA8Vmlld3BvcnRPdmVybGF5XG4gICAgICAgICAgICAgICAgey4uLnByb3BzfVxuICAgICAgICAgICAgICAgIGFjdGl2ZVRvb2xzPXtUb29sQmFyU2VydmljZS5nZXRBY3RpdmVUb29scygpfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9fVxuICAgICAgICAvPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIHctZnVsbFwiPlxuICAgICAgICAgIHt2aWV3cG9ydERpYWxvZ1N0YXRlLnZpZXdwb3J0SW5kZXggPT09IHZpZXdwb3J0SW5kZXggJiYgKFxuICAgICAgICAgICAgPE5vdGlmaWNhdGlvblxuICAgICAgICAgICAgICBtZXNzYWdlPXt2aWV3cG9ydERpYWxvZ1N0YXRlLm1lc3NhZ2V9XG4gICAgICAgICAgICAgIHR5cGU9e3ZpZXdwb3J0RGlhbG9nU3RhdGUudHlwZX1cbiAgICAgICAgICAgICAgYWN0aW9ucz17dmlld3BvcnREaWFsb2dTdGF0ZS5hY3Rpb25zfVxuICAgICAgICAgICAgICBvblN1Ym1pdD17dmlld3BvcnREaWFsb2dTdGF0ZS5vblN1Ym1pdH1cbiAgICAgICAgICAgICAgb25PdXRzaWRlQ2xpY2s9e3ZpZXdwb3J0RGlhbG9nU3RhdGUub25PdXRzaWRlQ2xpY2t9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgICB7Y2hpbGRyZW5XaXRoUHJvcHN9XG4gICAgICA8L2Rpdj5cbiAgICA8Lz5cbiAgKTtcbn1cblxuY29uc3QgX3ZpZXdwb3J0TGFiZWxzID0gWydBJywgJ0InLCAnQycsICdEJywgJ0UnLCAnRicsICdHJywgJ0gnLCAnSSddO1xuXG5PSElGQ29ybmVyc3RvbmVTUlZpZXdwb3J0LnByb3BUeXBlcyA9IHtcbiAgZGlzcGxheVNldDogUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkLFxuICB2aWV3cG9ydEluZGV4OiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQsXG4gIGRhdGFTb3VyY2U6IFByb3BUeXBlcy5vYmplY3QsXG4gIGNoaWxkcmVuOiBQcm9wVHlwZXMubm9kZSxcbiAgY3VzdG9tUHJvcHM6IFByb3BUeXBlcy5vYmplY3QsXG59O1xuXG5PSElGQ29ybmVyc3RvbmVTUlZpZXdwb3J0LmRlZmF1bHRQcm9wcyA9IHtcbiAgY3VzdG9tUHJvcHM6IHt9LFxufTtcblxuLyoqXG4gKiBPYnRhaW4gdGhlIENvcm5lcnN0b25lVG9vbHMgU3RhY2sgZm9yIHRoZSBzcGVjaWZpZWQgZGlzcGxheSBzZXQuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGRpc3BsYXlTZXRcbiAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhU291cmNlXG4gKiBAcmV0dXJuIHtPYmplY3R9IENvcm5lcnN0b25lVG9vbHMgU3RhY2tcbiAqL1xuZnVuY3Rpb24gX2dldENvcm5lcnN0b25lU3RhY2soXG4gIG1lYXN1cmVtZW50LFxuICBkYXRhU291cmNlLFxuICBEaXNwbGF5U2V0U2VydmljZSxcbiAgZWxlbWVudFxuKSB7XG4gIGNvbnN0IHsgZGlzcGxheVNldEluc3RhbmNlVUlELCBUcmFja2luZ1VuaXF1ZUlkZW50aWZpZXIgfSA9IG1lYXN1cmVtZW50O1xuXG4gIGNvbnN0IGRpc3BsYXlTZXQgPSBEaXNwbGF5U2V0U2VydmljZS5nZXREaXNwbGF5U2V0QnlVSUQoXG4gICAgZGlzcGxheVNldEluc3RhbmNlVUlEXG4gICk7XG5cbiAgLy8gR2V0IHN0YWNrIGZyb20gU3RhY2sgTWFuYWdlclxuICBjb25zdCBzdG9yZWRTdGFjayA9IFN0YWNrTWFuYWdlci5maW5kT3JDcmVhdGVTdGFjayhkaXNwbGF5U2V0LCBkYXRhU291cmNlKTtcblxuICAvLyBDbG9uZSB0aGUgc3RhY2sgaGVyZSBzbyB3ZSBkb24ndCBtdXRhdGUgaXRcbiAgY29uc3Qgc3RhY2sgPSBPYmplY3QuYXNzaWduKHt9LCBzdG9yZWRTdGFjayk7XG5cbiAgY29uc3QgeyBpbWFnZUlkIH0gPSBtZWFzdXJlbWVudDtcblxuICBzdGFjay5jdXJyZW50SW1hZ2VJZEluZGV4ID0gc3RhY2suaW1hZ2VJZHMuZmluZEluZGV4KGkgPT4gaSA9PT0gaW1hZ2VJZCk7XG5cbiAgaWYgKGVsZW1lbnQpIHtcbiAgICBjb25zdCBzck1vZHVsZSA9IGNvcm5lcnN0b25lVG9vbHMuZ2V0TW9kdWxlKGlkKTtcblxuICAgIHNyTW9kdWxlLnNldHRlcnMuYWN0aXZlVHJhY2tpbmdVbmlxdWVJZGVudGlmaWVyRm9yRWxlbWVudChcbiAgICAgIGVsZW1lbnQsXG4gICAgICBUcmFja2luZ1VuaXF1ZUlkZW50aWZpZXJcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIHN0YWNrO1xufVxuXG5hc3luYyBmdW5jdGlvbiBfZ2V0Vmlld3BvcnRBbmRBY3RpdmVEaXNwbGF5U2V0RGF0YShcbiAgZGF0YVNvdXJjZSxcbiAgZGlzcGxheVNldCxcbiAgbWVhc3VyZW1lbnRTZWxlY3RlZCxcbiAgRGlzcGxheVNldFNlcnZpY2UsXG4gIGVsZW1lbnRcbikge1xuICBsZXQgdmlld3BvcnREYXRhO1xuXG4gIGNvbnN0IHsgbWVhc3VyZW1lbnRzIH0gPSBkaXNwbGF5U2V0O1xuICBjb25zdCBtZWFzdXJlbWVudCA9IG1lYXN1cmVtZW50c1ttZWFzdXJlbWVudFNlbGVjdGVkXTtcblxuICBjb25zdCBzdGFjayA9IF9nZXRDb3JuZXJzdG9uZVN0YWNrKFxuICAgIG1lYXN1cmVtZW50LFxuICAgIGRhdGFTb3VyY2UsXG4gICAgRGlzcGxheVNldFNlcnZpY2UsXG4gICAgZWxlbWVudFxuICApO1xuXG4gIHZpZXdwb3J0RGF0YSA9IHtcbiAgICBTdHVkeUluc3RhbmNlVUlEOiBkaXNwbGF5U2V0LlN0dWR5SW5zdGFuY2VVSUQsXG4gICAgZGlzcGxheVNldEluc3RhbmNlVUlEOiBkaXNwbGF5U2V0LmRpc3BsYXlTZXRJbnN0YW5jZVVJRCxcbiAgICBzdGFjayxcbiAgfTtcblxuICBjb25zdCB7IGRpc3BsYXlTZXRJbnN0YW5jZVVJRCB9ID0gbWVhc3VyZW1lbnQ7XG5cbiAgY29uc3QgcmVmZXJlbmNlZERpc3BsYXlTZXQgPSBEaXNwbGF5U2V0U2VydmljZS5nZXREaXNwbGF5U2V0QnlVSUQoXG4gICAgZGlzcGxheVNldEluc3RhbmNlVUlEXG4gICk7XG5cbiAgY29uc3QgaW1hZ2UwID0gcmVmZXJlbmNlZERpc3BsYXlTZXQuaW1hZ2VzWzBdO1xuICBjb25zdCBhY3RpdmVEaXNwbGF5U2V0RGF0YSA9IHtcbiAgICBQYXRpZW50SUQ6IGltYWdlMC5QYXRpZW50SUQsXG4gICAgUGF0aWVudE5hbWU6IGltYWdlMC5QYXRpZW50TmFtZSxcbiAgICBQYXRpZW50U2V4OiBpbWFnZTAuUGF0aWVudFNleCxcbiAgICBQYXRpZW50QWdlOiBpbWFnZTAuUGF0aWVudEFnZSxcbiAgICBTbGljZVRoaWNrbmVzczogaW1hZ2UwLlNsaWNlVGhpY2tuZXNzLFxuICAgIFN0dWR5RGF0ZTogaW1hZ2UwLlN0dWR5RGF0ZSxcbiAgICBTZXJpZXNEZXNjcmlwdGlvbjogaW1hZ2UwLlNlcmllc0Rlc2NyaXB0aW9uLFxuICAgIFNlcmllc0luc3RhbmNlVUlEOiBpbWFnZTAuU2VyaWVzSW5zdGFuY2VVSUQsXG4gICAgU2VyaWVzTnVtYmVyOiBpbWFnZTAuU2VyaWVzTnVtYmVyLFxuICAgIE1hbnVmYWN0dXJlck1vZGVsTmFtZTogaW1hZ2UwLk1hbnVmYWN0dXJlck1vZGVsTmFtZSxcbiAgICBTcGFjaW5nQmV0d2VlblNsaWNlczogaW1hZ2UwLlNwYWNpbmdCZXR3ZWVuU2xpY2VzLFxuICAgIGRpc3BsYXlTZXRJbnN0YW5jZVVJRCxcbiAgfTtcblxuICByZXR1cm4geyB2aWV3cG9ydERhdGEsIGFjdGl2ZURpc3BsYXlTZXREYXRhIH07XG59XG5cbmZ1bmN0aW9uIF9vbkRvdWJsZUNsaWNrKCkge1xuICBjb25zdCBjYW5jZWxBY3RpdmVNYW5pcHVsYXRvcnNGb3JFbGVtZW50ID0gY29ybmVyc3RvbmVUb29scy5nZXRNb2R1bGUoXG4gICAgJ21hbmlwdWxhdG9yU3RhdGUnXG4gICkuc2V0dGVycy5jYW5jZWxBY3RpdmVNYW5pcHVsYXRvcnNGb3JFbGVtZW50O1xuICBjb25zdCBlbmFibGVkRWxlbWVudHMgPSBjb3JuZXJzdG9uZVRvb2xzLnN0b3JlLnN0YXRlLmVuYWJsZWRFbGVtZW50cztcbiAgZW5hYmxlZEVsZW1lbnRzLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgY2FuY2VsQWN0aXZlTWFuaXB1bGF0b3JzRm9yRWxlbWVudChlbGVtZW50KTtcbiAgfSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IE9ISUZDb3JuZXJzdG9uZVNSVmlld3BvcnQ7XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQWdCQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUdBO0FBQ0E7QUFBQTtBQUtBO0FBQ0E7QUFHQTtBQUFBO0FBQUE7QUFDQTtBQU5BO0FBQ0E7QUFEQTtBQUNBO0FBREE7QUFDQTtBQU9BO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFaQTtBQUNBO0FBY0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFDQTtBQUtBO0FBSUE7QUFDQTtBQUNBO0FBREE7QUFGQTtBQU9BO0FBSUE7QUFDQTtBQUNBO0FBREE7QUFGQTtBQU9BO0FBSUE7QUFDQTtBQUNBO0FBREE7QUFGQTtBQU9BO0FBSUE7QUFDQTtBQUNBO0FBREE7QUFGQTtBQUNBO0FBUUE7QUFDQTtBQURBO0FBR0E7QUFPQTtBQUNBO0FBQUE7QUFDQTtBQURBO0FBR0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQURBO0FBR0E7QUFNQTtBQUNBO0FBR0E7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQURBO0FBU0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUFBO0FBR0E7QUFFQTtBQUVBO0FBQUE7QUFHQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQU1BO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUdBO0FBRUE7QUFDQTtBQUVBO0FBR0E7QUFDQTtBQUFBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFwUkE7QUFBQTtBQUFBO0FBQ0E7QUE0UkE7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUZBO0FBS0E7QUFDQTtBQUNBO0FBeFNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUF5VEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQVpBO0FBWEE7QUFaQTtBQXdDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUxBO0FBTUE7QUFOQTtBQU9BO0FBQ0E7QUFDQTtBQUVBO0FBWEE7QUFZQTtBQUNBO0FBQ0E7QUFHQTtBQUZBO0FBS0E7QUFwQkE7QUFzQkE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFMQTtBQWFBO0FBQ0E7QUF6YUE7QUFhQTs7O0FBNlpBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTEE7QUFRQTtBQUNBO0FBREE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFLQTtBQUFBO0FBR0E7QUFDQTtBQUlBO0FBQ0E7QUFFQTtBQVhBO0FBZUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBU0E7QUFDQTtBQUVBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQU1BO0FBRUE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBWkE7QUFoQ0E7QUErQ0E7QUFBQTtBQUFBO0FBQ0E7QUFoREE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7Ozs7QUFrREE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7Ozs7Ozs7Ozs7QUF0aUJBO0FBQ0E7QUFDQTtBQUdBO0FBQUE7QUFFQTtBQUVBO0FBMGFBO0FBcUJBO0FBa0NBO0FBa0RBOzs7Ozs7Ozs7O0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///../../../extensions/dicom-sr/src/viewports/OHIFCornerstoneSRViewport.js\n");

/***/ }),

/***/ "../../../extensions/dicom-sr/src/viewports/ViewportOverlay.js":
/*!***************************************************************************!*\
  !*** C:/src/Viewers/extensions/dicom-sr/src/viewports/ViewportOverlay.js ***!
  \***************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(module) {/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"../../../node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ \"../../../node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var cornerstone_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! cornerstone-core */ \"../../../../cornerstone/dist/cornerstone.js\");\n/* harmony import */ var cornerstone_core__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(cornerstone_core__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! classnames */ \"../../../node_modules/classnames/index.js\");\n/* harmony import */ var classnames__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_3__);\n(function () {\n  var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;\n  enterModule && enterModule(module);\n})();\n\nvar __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {\n  return a;\n};\n\n\n\n\n\n\nvar ViewportOverlay = function ViewportOverlay(_ref) {\n  var imageId = _ref.imageId,\n      scale = _ref.scale,\n      windowWidth = _ref.windowWidth,\n      windowCenter = _ref.windowCenter,\n      imageIndex = _ref.imageIndex,\n      stackSize = _ref.stackSize,\n      activeTools = _ref.activeTools;\n  var topLeft = 'top-viewport left-viewport';\n  var topRight = 'top-viewport right-viewport-scrollbar';\n  var bottomRight = 'bottom-viewport right-viewport-scrollbar';\n  var bottomLeft = 'bottom-viewport left-viewport';\n  var overlay = 'absolute pointer-events-none';\n  var isZoomActive = activeTools.includes('Zoom');\n  var isWwwcActive = activeTools.includes('Wwwc');\n\n  if (!imageId) {\n    return null;\n  }\n\n  var generalImageModule = cornerstone_core__WEBPACK_IMPORTED_MODULE_2___default.a.metaData.get('generalImageModule', imageId) || {};\n  var instanceNumber = generalImageModule.instanceNumber;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"text-primary-light\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: classnames__WEBPACK_IMPORTED_MODULE_3___default()(overlay, topLeft)\n  }, isZoomActive && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"flex flex-row\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    className: \"mr-1\"\n  }, \"Zoom:\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    className: \"font-thin\"\n  }, scale.toFixed(2), \"x\")), isWwwcActive && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"flex flex-row\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    className: \"mr-1\"\n  }, \"W:\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    className: \"ml-1 mr-2 font-thin\"\n  }, windowWidth.toFixed(0)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    className: \"mr-1\"\n  }, \"L:\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    className: \"ml-1 font-thin\"\n  }, windowCenter.toFixed(0)))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: classnames__WEBPACK_IMPORTED_MODULE_3___default()(overlay, topRight)\n  }, stackSize > 1 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: \"flex flex-row\"\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    className: \"mr-1\"\n  }, \"I:\"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"span\", {\n    className: \"font-thin\"\n  }, \"\".concat(instanceNumber, \" (\").concat(imageIndex, \"/\").concat(stackSize, \")\")))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: classnames__WEBPACK_IMPORTED_MODULE_3___default()(overlay, bottomRight)\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(\"div\", {\n    className: classnames__WEBPACK_IMPORTED_MODULE_3___default()(overlay, bottomLeft)\n  }));\n};\n\nViewportOverlay.defaultProps = {\n  stackSize: 99999\n};\nViewportOverlay.propTypes = {\n  scale: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number.isRequired,\n  windowWidth: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number.isRequired,\n  windowCenter: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number.isRequired,\n  imageId: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string.isRequired,\n  imageIndex: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number.isRequired,\n  stackSize: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.number.isRequired,\n  activeTools: prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_1___default.a.string)\n};\nViewportOverlay.defaultProps = {\n  activeTools: []\n};\nvar _default = ViewportOverlay;\n/* harmony default export */ __webpack_exports__[\"default\"] = (_default);\n;\n\n(function () {\n  var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;\n\n  if (!reactHotLoader) {\n    return;\n  }\n\n  reactHotLoader.register(ViewportOverlay, \"ViewportOverlay\", \"C:\\\\src\\\\Viewers\\\\extensions\\\\dicom-sr\\\\src\\\\viewports\\\\ViewportOverlay.js\");\n  reactHotLoader.register(_default, \"default\", \"C:\\\\src\\\\Viewers\\\\extensions\\\\dicom-sr\\\\src\\\\viewports\\\\ViewportOverlay.js\");\n})();\n\n;\n\n(function () {\n  var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;\n  leaveModule && leaveModule(module);\n})();\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../../node_modules/webpack/buildin/harmony-module.js */ \"../../../node_modules/webpack/buildin/harmony-module.js\")(module)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vZXh0ZW5zaW9ucy9kaWNvbS1zci9zcmMvdmlld3BvcnRzL1ZpZXdwb3J0T3ZlcmxheS5qcy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9DOi9zcmMvVmlld2Vycy9leHRlbnNpb25zL2RpY29tLXNyL3NyYy92aWV3cG9ydHMvVmlld3BvcnRPdmVybGF5LmpzP2Y3ZWUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgY29ybmVyc3RvbmUgZnJvbSAnY29ybmVyc3RvbmUtY29yZSc7XG5pbXBvcnQgY2xhc3NuYW1lcyBmcm9tICdjbGFzc25hbWVzJztcblxuY29uc3QgVmlld3BvcnRPdmVybGF5ID0gKHtcbiAgaW1hZ2VJZCxcbiAgc2NhbGUsXG4gIHdpbmRvd1dpZHRoLFxuICB3aW5kb3dDZW50ZXIsXG4gIGltYWdlSW5kZXgsXG4gIHN0YWNrU2l6ZSxcbiAgYWN0aXZlVG9vbHMsXG59KSA9PiB7XG4gIGNvbnN0IHRvcExlZnQgPSAndG9wLXZpZXdwb3J0IGxlZnQtdmlld3BvcnQnO1xuICBjb25zdCB0b3BSaWdodCA9ICd0b3Atdmlld3BvcnQgcmlnaHQtdmlld3BvcnQtc2Nyb2xsYmFyJztcbiAgY29uc3QgYm90dG9tUmlnaHQgPSAnYm90dG9tLXZpZXdwb3J0IHJpZ2h0LXZpZXdwb3J0LXNjcm9sbGJhcic7XG4gIGNvbnN0IGJvdHRvbUxlZnQgPSAnYm90dG9tLXZpZXdwb3J0IGxlZnQtdmlld3BvcnQnO1xuICBjb25zdCBvdmVybGF5ID0gJ2Fic29sdXRlIHBvaW50ZXItZXZlbnRzLW5vbmUnO1xuXG4gIGNvbnN0IGlzWm9vbUFjdGl2ZSA9IGFjdGl2ZVRvb2xzLmluY2x1ZGVzKCdab29tJyk7XG4gIGNvbnN0IGlzV3d3Y0FjdGl2ZSA9IGFjdGl2ZVRvb2xzLmluY2x1ZGVzKCdXd3djJyk7XG5cbiAgaWYgKCFpbWFnZUlkKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBjb25zdCBnZW5lcmFsSW1hZ2VNb2R1bGUgPVxuICAgIGNvcm5lcnN0b25lLm1ldGFEYXRhLmdldCgnZ2VuZXJhbEltYWdlTW9kdWxlJywgaW1hZ2VJZCkgfHwge307XG4gIGNvbnN0IHsgaW5zdGFuY2VOdW1iZXIgfSA9IGdlbmVyYWxJbWFnZU1vZHVsZTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1wcmltYXJ5LWxpZ2h0XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NuYW1lcyhvdmVybGF5LCB0b3BMZWZ0KX0+XG4gICAgICAgIHtpc1pvb21BY3RpdmUgJiYgKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LXJvd1wiPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibXItMVwiPlpvb206PC9zcGFuPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9udC10aGluXCI+e3NjYWxlLnRvRml4ZWQoMil9eDwvc3Bhbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgICAge2lzV3d3Y0FjdGl2ZSAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtcm93XCI+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtci0xXCI+Vzo8L3NwYW4+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtbC0xIG1yLTIgZm9udC10aGluXCI+XG4gICAgICAgICAgICAgIHt3aW5kb3dXaWR0aC50b0ZpeGVkKDApfVxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibXItMVwiPkw6PC9zcGFuPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWwtMSBmb250LXRoaW5cIj57d2luZG93Q2VudGVyLnRvRml4ZWQoMCl9PC9zcGFuPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT17Y2xhc3NuYW1lcyhvdmVybGF5LCB0b3BSaWdodCl9PlxuICAgICAgICB7c3RhY2tTaXplID4gMSAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtcm93XCI+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtci0xXCI+STo8L3NwYW4+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmb250LXRoaW5cIj5cbiAgICAgICAgICAgICAge2Ake2luc3RhbmNlTnVtYmVyfSAoJHtpbWFnZUluZGV4fS8ke3N0YWNrU2l6ZX0pYH1cbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9e2NsYXNzbmFtZXMob3ZlcmxheSwgYm90dG9tUmlnaHQpfT48L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbGFzc25hbWVzKG92ZXJsYXksIGJvdHRvbUxlZnQpfT48L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cblZpZXdwb3J0T3ZlcmxheS5kZWZhdWx0UHJvcHMgPSB7XG4gIHN0YWNrU2l6ZTogOTk5OTksXG59O1xuXG5WaWV3cG9ydE92ZXJsYXkucHJvcFR5cGVzID0ge1xuICBzY2FsZTogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxuICB3aW5kb3dXaWR0aDogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxuICB3aW5kb3dDZW50ZXI6IFByb3BUeXBlcy5udW1iZXIuaXNSZXF1aXJlZCxcbiAgaW1hZ2VJZDogUHJvcFR5cGVzLnN0cmluZy5pc1JlcXVpcmVkLFxuICBpbWFnZUluZGV4OiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQsXG4gIHN0YWNrU2l6ZTogUHJvcFR5cGVzLm51bWJlci5pc1JlcXVpcmVkLFxuICBhY3RpdmVUb29sczogUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLnN0cmluZyksXG59O1xuXG5WaWV3cG9ydE92ZXJsYXkuZGVmYXVsdFByb3BzID0ge1xuICBhY3RpdmVUb29sczogW10sXG59O1xuXG5leHBvcnQgZGVmYXVsdCBWaWV3cG9ydE92ZXJsYXk7XG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFkQTtBQWtCQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBSUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBR0E7QUFBQTtBQUNBO0FBQUE7QUFJQTtBQUFBO0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBTUE7QUFBQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVBBO0FBVUE7QUFDQTtBQURBO0FBSUE7QUFBQTs7Ozs7Ozs7OztBQWhGQTs7Ozs7Ozs7OztBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../../extensions/dicom-sr/src/viewports/ViewportOverlay.js\n");

/***/ })

}]);